{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { Form, Button, Checkbox, Space, Typography, message as Message } from 'antd';\nimport { LOGIN_USER_REQUEST } from '../../reducers/types';\nimport EmailForm from './LoginForm/EmailForm';\nimport PasswordForm from './LoginForm/PasswordForm';\nconst {\n  Title\n} = Typography;\n\nfunction LoginPage() {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    loginUserLoading,\n    loginUserDone,\n    loginUserError,\n    message\n  } = useSelector(state => state.user);\n  useEffect(() => {\n    if (loginUserDone) {\n      Router.push('/');\n    }\n\n    if (loginUserError) {\n      Message.error({\n        content: message,\n        duration: 2\n      });\n    }\n  }, [loginUserDone, loginUserError, message]); // let initialValues = useMemo(() => ({\n  //   rememberMe: true,\n  //   email: localStorage.getItem('rememberMe'),\n  // }), [localStorage])\n\n  const onFinish = useCallback(values => {\n    // if (values.rememberMe) {\n    //   window.localStorage.setItem('rememberMe', values.email);\n    // }\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n      payload: {\n        email: values.email,\n        password: values.password\n      }\n    });\n  }, []);\n  const handleCancel = useCallback(() => {\n    router.back();\n  }, []);\n  const onFinishFailed = useCallback(({\n    errorFields\n  }) => {\n    form.scrollToField(errorFields[0].name);\n  }, [form]);\n  const rootDivWrapperStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: '100vh'\n  }), []);\n  const formLabelColStyle = useMemo(() => ({\n    span: 8\n  }), []);\n  const formWrapperColStyle = useMemo(() => ({\n    span: 16\n  }), []);\n  const formStyle = useMemo(() => ({\n    width: '400px'\n  }), []);\n  const titleStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: 40\n  }), []);\n  const formItemWrapperColStyle = useMemo(() => ({\n    offset: 8,\n    span: 16\n  }), []);\n  const formItemStyle = useMemo(() => ({\n    marginTop: -10\n  }), []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: rootDivWrapperStyle,\n    children: /*#__PURE__*/_jsxs(Form, {\n      name: \"basic\" // initialValues={initialValues}\n      ,\n      labelCol: formLabelColStyle,\n      wrapperCol: formWrapperColStyle,\n      style: formStyle,\n      onFinish: onFinish,\n      onFinishFailed: onFinishFailed,\n      children: [/*#__PURE__*/_jsx(Title, {\n        level: 2,\n        style: titleStyle,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }), /*#__PURE__*/_jsx(EmailForm, {}), /*#__PURE__*/_jsx(PasswordForm, {}), /*#__PURE__*/_jsx(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        name: \"rememberMe\",\n        valuePropName: \"checked\",\n        children: /*#__PURE__*/_jsx(Checkbox, {\n          children: \"\\uC544\\uC774\\uB514 \\uAE30\\uC5B5\\uD558\\uAE30\"\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        children: /*#__PURE__*/_jsxs(Space, {\n          children: [/*#__PURE__*/_jsx(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: loginUserLoading,\n            disabled: loginUserLoading,\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }), /*#__PURE__*/_jsx(Button, {\n            onClick: handleCancel,\n            children: \"\\uCDE8\\uC18C\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        style: formItemStyle,\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"/register\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: \"\\uC544\\uC9C1 \\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2DC\\uB77C\\uBA74\"\n          })\n        })\n      })]\n    })\n  });\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/User/LoginPage.js"],"names":["React","useCallback","useEffect","useMemo","useDispatch","useSelector","Router","useRouter","Link","Form","Button","Checkbox","Space","Typography","message","Message","LOGIN_USER_REQUEST","EmailForm","PasswordForm","Title","LoginPage","form","useForm","dispatch","router","loginUserLoading","loginUserDone","loginUserError","state","user","push","error","content","duration","onFinish","values","type","payload","email","password","handleCancel","back","onFinishFailed","errorFields","scrollToField","name","rootDivWrapperStyle","display","justifyContent","alignItems","width","height","formLabelColStyle","span","formWrapperColStyle","formStyle","titleStyle","marginBottom","formItemWrapperColStyle","offset","formItemStyle","marginTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Router, { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport { Form, Button, Checkbox, Space, Typography, message as Message } from 'antd';\nimport { LOGIN_USER_REQUEST } from '../../reducers/types';\nimport EmailForm from './LoginForm/EmailForm';\nimport PasswordForm from './LoginForm/PasswordForm';\n\nconst { Title } = Typography;\n\nfunction LoginPage() {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { loginUserLoading, loginUserDone, loginUserError, message } = useSelector(state => state.user)\n\n  useEffect(() => {\n    if (loginUserDone) {\n      Router.push('/')\n    }\n    if (loginUserError) {\n      Message.error({ content: message, duration: 2 });\n    }\n  }, [loginUserDone, loginUserError, message])\n\n  // let initialValues = useMemo(() => ({\n  //   rememberMe: true,\n  //   email: localStorage.getItem('rememberMe'),\n  // }), [localStorage])\n\n  const onFinish = useCallback((values) => {\n    // if (values.rememberMe) {\n    //   window.localStorage.setItem('rememberMe', values.email);\n    // }\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n      payload: {\n        email: values.email,\n        password: values.password,\n      }\n    })\n  }, []);\n\n  const handleCancel = useCallback(() => {\n    router.back()\n  }, [])\n\n  const onFinishFailed = useCallback(({ errorFields }) => {\n    form.scrollToField(errorFields[0].name);\n  }, [form]);\n  const rootDivWrapperStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%', height: '100vh' }), [])\n  const formLabelColStyle = useMemo(() => ({ span: 8 }), [])\n  const formWrapperColStyle = useMemo(() => ({ span: 16 }), [])\n  const formStyle = useMemo(() => ({ width: '400px' }), [])\n  const titleStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', marginBottom: 40 }), [])\n  const formItemWrapperColStyle = useMemo(() => ({ offset: 8, span: 16 }), [])\n  const formItemStyle = useMemo(() => ({ marginTop: -10 }), [])\n\n\n  return (\n    <div style={rootDivWrapperStyle}>\n      <Form\n        name=\"basic\"\n        // initialValues={initialValues}\n        labelCol={formLabelColStyle}\n        wrapperCol={formWrapperColStyle}\n        style={formStyle}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Title level={2} style={titleStyle} >로그인</Title>\n        <EmailForm />\n        <PasswordForm />\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} name=\"rememberMe\" valuePropName=\"checked\">\n          <Checkbox>아이디 기억하기</Checkbox>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle}>\n          <Space>\n            <Button type=\"primary\" htmlType=\"submit\"\n              loading={loginUserLoading}\n              disabled={loginUserLoading}>\n              로그인\n              </Button>\n            <Button onClick={handleCancel}>\n              취소\n            </Button>\n          </Space>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} style={formItemStyle}>\n          <Link href='/register'><a>아직 회원이 아니시라면</a></Link>\n        </Form.Item>\n      </Form>\n    </div >\n  )\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}