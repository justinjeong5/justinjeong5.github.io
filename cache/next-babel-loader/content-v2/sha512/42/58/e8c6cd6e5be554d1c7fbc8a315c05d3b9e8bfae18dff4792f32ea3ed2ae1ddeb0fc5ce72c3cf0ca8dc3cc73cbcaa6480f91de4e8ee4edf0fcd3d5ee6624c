{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/justinjeong/Github/javascript/githubIo/client/components/User/LoginPage.js\";\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, withRouter, useHistory } from 'react-router-dom';\nimport { Form, Button, Checkbox, Space, Typography, message as Message } from 'antd';\nimport { LOGIN_USER_REQUEST } from '../../reducers/types';\nimport EmailForm from './LoginForm/EmailForm';\nimport PasswordForm from './LoginForm/PasswordForm';\nconst {\n  Title\n} = Typography;\n\nfunction LoginPage() {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    loginUserLoading,\n    loginUserDone,\n    loginUserError,\n    message\n  } = useSelector(state => state.user);\n  useEffect(() => {\n    if (loginUserDone) {\n      history.push('/');\n    }\n\n    if (loginUserError) {\n      Message.error({\n        content: message,\n        duration: 2\n      });\n    }\n  }, [loginUserDone, loginUserError, history, message]);\n  const initialValues = useMemo(() => ({\n    rememberMe: true,\n    email: localStorage.getItem('rememberMe')\n  }), []);\n  const onFinish = useCallback(values => {\n    if (values.rememberMe) {\n      localStorage.setItem('rememberMe', values.email);\n    }\n\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n      payload: {\n        email: values.email,\n        password: values.password\n      }\n    });\n  }, []);\n  const handleCancel = useCallback(() => {\n    history.goBack(1);\n  }, []);\n  const onFinishFailed = useCallback(({\n    errorFields\n  }) => {\n    form.scrollToField(errorFields[0].name);\n  }, [form]);\n  const rootDivWrapperStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: '100vh'\n  }), []);\n  const formLabelColStyle = useMemo(() => ({\n    span: 8\n  }), []);\n  const formWrapperColStyle = useMemo(() => ({\n    span: 16\n  }), []);\n  const formStyle = useMemo(() => ({\n    width: '400px'\n  }), []);\n  const titleStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: 40\n  }), []);\n  const formItemWrapperColStyle = useMemo(() => ({\n    offset: 8,\n    span: 16\n  }), []);\n  const formItemStyle = useMemo(() => ({\n    marginTop: -10\n  }), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: rootDivWrapperStyle,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      name: \"basic\",\n      initialValues: initialValues,\n      labelCol: formLabelColStyle,\n      wrapperCol: formWrapperColStyle,\n      style: formStyle,\n      onFinish: onFinish,\n      onFinishFailed: onFinishFailed,\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        style: titleStyle,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EmailForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PasswordForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        name: \"rememberMe\",\n        valuePropName: \"checked\",\n        children: /*#__PURE__*/_jsxDEV(Checkbox, {\n          children: \"\\uC544\\uC774\\uB514 \\uAE30\\uC5B5\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: loginUserLoading,\n            disabled: loginUserLoading,\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCancel,\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        style: formItemStyle,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"\\uC544\\uC9C1 \\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2DC\\uB77C\\uBA74\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\nexport default withRouter(LoginPage);","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/User/LoginPage.js"],"names":["React","useCallback","useEffect","useMemo","useDispatch","useSelector","Link","withRouter","useHistory","Form","Button","Checkbox","Space","Typography","message","Message","LOGIN_USER_REQUEST","EmailForm","PasswordForm","Title","LoginPage","form","useForm","dispatch","history","loginUserLoading","loginUserDone","loginUserError","state","user","push","error","content","duration","initialValues","rememberMe","email","localStorage","getItem","onFinish","values","setItem","type","payload","password","handleCancel","goBack","onFinishFailed","errorFields","scrollToField","name","rootDivWrapperStyle","display","justifyContent","alignItems","width","height","formLabelColStyle","span","formWrapperColStyle","formStyle","titleStyle","marginBottom","formItemWrapperColStyle","offset","formItemStyle","marginTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Link, withRouter, useHistory } from 'react-router-dom';\nimport { Form, Button, Checkbox, Space, Typography, message as Message } from 'antd';\nimport { LOGIN_USER_REQUEST } from '../../reducers/types';\nimport EmailForm from './LoginForm/EmailForm';\nimport PasswordForm from './LoginForm/PasswordForm';\n\nconst { Title } = Typography;\n\nfunction LoginPage() {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { loginUserLoading, loginUserDone, loginUserError, message } = useSelector(state => state.user)\n\n  useEffect(() => {\n    if (loginUserDone) {\n      history.push('/')\n    }\n    if (loginUserError) {\n      Message.error({ content: message, duration: 2 });\n    }\n  }, [loginUserDone, loginUserError, history, message])\n\n  const initialValues = useMemo(() => ({\n    rememberMe: true,\n    email: localStorage.getItem('rememberMe'),\n  }), [])\n\n  const onFinish = useCallback((values) => {\n    if (values.rememberMe) {\n      localStorage.setItem('rememberMe', values.email);\n    }\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n      payload: {\n        email: values.email,\n        password: values.password,\n      }\n    })\n  }, []);\n\n  const handleCancel = useCallback(() => {\n    history.goBack(1)\n  }, [])\n\n  const onFinishFailed = useCallback(({ errorFields }) => {\n    form.scrollToField(errorFields[0].name);\n  }, [form]);\n  const rootDivWrapperStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%', height: '100vh' }), [])\n  const formLabelColStyle = useMemo(() => ({ span: 8 }), [])\n  const formWrapperColStyle = useMemo(() => ({ span: 16 }), [])\n  const formStyle = useMemo(() => ({ width: '400px' }), [])\n  const titleStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', marginBottom: 40 }), [])\n  const formItemWrapperColStyle = useMemo(() => ({ offset: 8, span: 16 }), [])\n  const formItemStyle = useMemo(() => ({ marginTop: -10 }), [])\n\n\n  return (\n    <div style={rootDivWrapperStyle}>\n      <Form\n        name=\"basic\"\n        initialValues={initialValues}\n        labelCol={formLabelColStyle}\n        wrapperCol={formWrapperColStyle}\n        style={formStyle}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Title level={2} style={titleStyle} >로그인</Title>\n        <EmailForm />\n        <PasswordForm />\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} name=\"rememberMe\" valuePropName=\"checked\">\n          <Checkbox>아이디 기억하기</Checkbox>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle}>\n          <Space>\n            <Button type=\"primary\" htmlType=\"submit\"\n              loading={loginUserLoading}\n              disabled={loginUserLoading}>\n              로그인\n              </Button>\n            <Button onClick={handleCancel}>\n              취소\n            </Button>\n          </Space>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} style={formItemStyle}>\n          <Link to='/register'>아직 회원이 아니시라면</Link>\n        </Form.Item>\n      </Form>\n    </div >\n  )\n}\n\nexport default withRouter(LoginPage);"]},"metadata":{},"sourceType":"module"}