{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/justinjeong/Github/javascript/githubIo/client/components/Chatting/ChatPage.js\";\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { subscribeChat, subscribeChatRoom } from '../utils/socket';\nimport { SOCKET_CONNECT, SOCKET_DISCONNECT, SOCKET_SUBSCRIBE_REQUEST, CREATE_CHAT_ROOM_REQUEST } from '../../reducers/types';\nimport MainPanel from './MainPanel/MainPanel';\nimport SidePanel from './SidePanel/SidePanel';\n\nfunction ChatPage() {\n  const dispatch = useDispatch();\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const {\n    0: showViewport,\n    1: setShowViewport\n  } = useState(true);\n  useEffect(() => {\n    dispatch({\n      type: SOCKET_CONNECT\n    });\n    subscribeChat((error, message) => {\n      dispatch({\n        type: SOCKET_SUBSCRIBE_REQUEST,\n        payload: error || message\n      });\n    });\n    subscribeChatRoom((error, message) => {\n      dispatch({\n        type: CREATE_CHAT_ROOM_REQUEST,\n        payload: error || message\n      });\n    });\n    return () => {\n      dispatch({\n        type: SOCKET_DISCONNECT\n      });\n    };\n  }, [dispatch]);\n  useEffect(() => {\n    const timer = setInterval(() => {\n      if (window.innerWidth < 992) {\n        setShowViewport(false);\n      } else {\n        setShowViewport(true);\n      }\n    }, 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n  const rootDivStyle = useMemo(() => ({\n    display: 'flex',\n    marginTop: 48,\n    height: 'calc(100vh - 48px)'\n  }), []);\n  const SidePanelStyle = useMemo(() => ({\n    width: '300px'\n  }), []);\n  const mainPanelStyle = useMemo(() => ({\n    width: '100%'\n  }), []);\n  const errorDivStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 48,\n    height: 'calc(100vh - 128px)',\n    backgroundColor: '#415972'\n  }), []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: showViewport ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: rootDivStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: SidePanelStyle,\n        children: /*#__PURE__*/_jsxDEV(SidePanel, {}, currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: mainPanelStyle,\n        children: /*#__PURE__*/_jsxDEV(MainPanel, {}, 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: errorDivStyle,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\" \\uB108\\uBE44\\uAC00 992px\\uBCF4\\uB2E4 \\uC791\\uC740 \\uD654\\uBA74\\uC5D0\\uC11C\\uB294 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 37\n        }, this), \"Talk-A-Tive\\uAC00 \\uC9C0\\uC6D0\\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n}\n\nexport default ChatPage;","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/Chatting/ChatPage.js"],"names":["React","useEffect","useMemo","useState","useSelector","useDispatch","subscribeChat","subscribeChatRoom","SOCKET_CONNECT","SOCKET_DISCONNECT","SOCKET_SUBSCRIBE_REQUEST","CREATE_CHAT_ROOM_REQUEST","MainPanel","SidePanel","ChatPage","dispatch","currentUser","state","user","showViewport","setShowViewport","type","error","message","payload","timer","setInterval","window","innerWidth","clearInterval","rootDivStyle","display","marginTop","height","SidePanelStyle","width","mainPanelStyle","errorDivStyle","justifyContent","alignItems","backgroundColor","userId"],"mappings":"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","sourcesContent":["import React, { useEffect, useMemo, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { subscribeChat, subscribeChatRoom } from '../utils/socket'\nimport {\n  SOCKET_CONNECT, SOCKET_DISCONNECT, SOCKET_SUBSCRIBE_REQUEST,\n  CREATE_CHAT_ROOM_REQUEST,\n} from '../../reducers/types';\nimport MainPanel from './MainPanel/MainPanel'\nimport SidePanel from './SidePanel/SidePanel'\n\nfunction ChatPage() {\n  const dispatch = useDispatch();\n  const { currentUser } = useSelector(state => state.user);\n  const [showViewport, setShowViewport] = useState(true)\n\n  useEffect(() => {\n    dispatch({\n      type: SOCKET_CONNECT\n    })\n    subscribeChat((error, message) => {\n      dispatch({\n        type: SOCKET_SUBSCRIBE_REQUEST,\n        payload: error || message\n      })\n    })\n    subscribeChatRoom((error, message) => {\n      dispatch({\n        type: CREATE_CHAT_ROOM_REQUEST,\n        payload: error || message\n      })\n    })\n    return () => {\n      dispatch({\n        type: SOCKET_DISCONNECT\n      })\n    }\n  }, [dispatch])\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      if (window.innerWidth < 992) {\n        setShowViewport(false)\n      } else {\n        setShowViewport(true)\n      }\n    }, 1000)\n    return () => {\n      clearInterval(timer)\n    }\n  }, [])\n\n  const rootDivStyle = useMemo(() => ({ display: 'flex', marginTop: 48, height: 'calc(100vh - 48px)' }), [])\n  const SidePanelStyle = useMemo(() => ({ width: '300px' }), [])\n  const mainPanelStyle = useMemo(() => ({ width: '100%' }), [])\n  const errorDivStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', alignItems: 'center', marginTop: 48, height: 'calc(100vh - 128px)', backgroundColor: '#415972' }), [])\n\n\n  return (\n    <>\n      {showViewport\n        ? <div style={rootDivStyle}>\n          <div style={SidePanelStyle}>\n            <SidePanel key={currentUser?.userId} />\n          </div>\n          <div style={mainPanelStyle}>\n            <MainPanel key={1} />\n          </div>\n        </div >\n        : <div style={errorDivStyle}>\n          <h2> 너비가 992px보다 작은 화면에서는 <br />Talk-A-Tive가 지원되지 않습니다. </h2>\n        </div>\n      }\n    </>\n  )\n}\n\nexport default ChatPage;\n"]},"metadata":{},"sourceType":"module"}