{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/justinjeong/Github/javascript/githubIo/client/components/Blog/CreatePage.js\";\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router';\nimport { Typography, Form, Button, message as Message, Input, Space, Select, Divider } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { CREATE_BLOG_POST_REQUEST, RESET_CREATE_BLOG_POST } from '../../reducers/types';\nimport QuillEditor from './Editor/QuillEditor';\nconst {\n  Title\n} = Typography;\nconst {\n  Option\n} = Select;\n\nfunction CreatePage() {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    0: content,\n    1: setContent\n  } = useState('');\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: files,\n    1: setFiles\n  } = useState([]);\n  const {\n    0: newCategory,\n    1: setNewCategory\n  } = useState('');\n  const {\n    0: categories,\n    1: setCategories\n  } = useState(['자유게시판']);\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const {\n    createBlogPostLoading,\n    createBlogPostDone,\n    uploadDataset,\n    uploadBlogDatasetLoading\n  } = useSelector(state => state.blog);\n  useEffect(() => {\n    if (createBlogPostDone) {\n      Message.success('게시글이 등록되었습니다.');\n      setTimeout(() => {\n        dispatch({\n          type: RESET_CREATE_BLOG_POST\n        });\n        Router.push('/blog');\n      }, 2000);\n    }\n  }, [dispatch, createBlogPostDone]);\n  const onSubmit = useCallback(() => {\n    if (title.trim() === '') return Message.error('제목을 작성해주세요.');\n    if (content.trim() === '') return Message.error('내용을 작성해주세요.');\n    dispatch({\n      type: CREATE_BLOG_POST_REQUEST,\n      payload: {\n        content: content,\n        title: title,\n        writer: currentUser.userId,\n        files: uploadDataset.files\n      }\n    });\n    setContent('');\n    setTitle('');\n  }, [title, content, currentUser, uploadDataset]);\n  const isAdmin = useCallback(() => {\n    return currentUser.role === 1;\n  }, [currentUser]);\n  const onEditorChange = useCallback(value => {\n    setContent(value);\n  }, []);\n  const onFilesChange = useCallback(files => {\n    setFiles(files);\n  }, []);\n  const onChangeTitle = useCallback(event => {\n    setTitle(event.target.value);\n  }, []);\n  const handleAddCategory = useCallback(() => {\n    if (!newCategory.trim()) {\n      return setNewCategory('');\n    }\n\n    if (categories.includes(newCategory)) {\n      return Message.error('이미 존재하는 블로그 분류입니다.');\n    }\n\n    setCategories(prev => [...prev, newCategory]);\n    setNewCategory('');\n  }, [newCategory]);\n  const handleCancel = useCallback(() => {\n    router.back();\n  }, []);\n  const handleCategory = useCallback(event => {\n    setNewCategory(event.currentTarget.value);\n  }, []);\n  const renderCategory = useCallback(() => categories.map(category => {\n    return /*#__PURE__*/_jsxDEV(Option, {\n      children: category\n    }, category, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 12\n    }, this);\n  }), [categories]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '75%',\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        paddingTop: 100\n      },\n      children: /*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        children: \"\\uBE14\\uB85C\\uADF8 \\uAE00 \\uC791\\uC131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onFinish: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: title,\n          onChange: onChangeTitle,\n          placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          disabled: !isAdmin,\n          defaultValue: '자유게시판',\n          style: {\n            width: 240\n          },\n          dropdownRender: menu => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [menu, /*#__PURE__*/_jsxDEV(Divider, {\n              style: {\n                margin: '4px 0'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexWrap: 'nowrap',\n                padding: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                style: {\n                  width: '75%'\n                },\n                value: newCategory,\n                onChange: handleCategory\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  marginTop: 5\n                },\n                children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {\n                  onClick: handleAddCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), \"\\uCD94\\uAC00\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this),\n          children: renderCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(QuillEditor, {\n        placeholder: '블로그 글을 작성해주세요.',\n        onEditorChange: onEditorChange,\n        onFilesChange: onFilesChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Space, {\n        style: {\n          textAlign: 'end',\n          marginTop: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          htmlType: \"submit\",\n          type: \"primary\",\n          onSubmit: onSubmit,\n          disabled: createBlogPostLoading,\n          loading: createBlogPostLoading || uploadBlogDatasetLoading,\n          children: \"\\uAE00\\uC4F0\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCancel,\n          children: \"\\uCDE8\\uC18C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\nexport default CreatePage;","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/Blog/CreatePage.js"],"names":["React","useCallback","useEffect","useMemo","useState","useDispatch","useSelector","Router","useRouter","Typography","Form","Button","message","Message","Input","Space","Select","Divider","PlusOutlined","CREATE_BLOG_POST_REQUEST","RESET_CREATE_BLOG_POST","QuillEditor","Title","Option","CreatePage","dispatch","router","content","setContent","title","setTitle","files","setFiles","newCategory","setNewCategory","categories","setCategories","currentUser","state","user","createBlogPostLoading","createBlogPostDone","uploadDataset","uploadBlogDatasetLoading","blog","success","setTimeout","type","push","onSubmit","trim","error","payload","writer","userId","isAdmin","role","onEditorChange","value","onFilesChange","onChangeTitle","event","target","handleAddCategory","includes","prev","handleCancel","back","handleCategory","currentTarget","renderCategory","map","category","width","margin","textAlign","paddingTop","display","menu","flexWrap","padding","marginTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router'\nimport { Typography, Form, Button, message as Message, Input, Space, Select, Divider } from 'antd'\nimport { PlusOutlined } from '@ant-design/icons';\nimport { CREATE_BLOG_POST_REQUEST, RESET_CREATE_BLOG_POST } from '../../reducers/types'\nimport QuillEditor from './Editor/QuillEditor'\nconst { Title } = Typography;\nconst { Option } = Select;\n\nfunction CreatePage() {\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const [content, setContent] = useState('')\n  const [title, setTitle] = useState('')\n  const [files, setFiles] = useState([]);\n  const [newCategory, setNewCategory] = useState('');\n  const [categories, setCategories] = useState(['자유게시판']);\n\n  const { currentUser } = useSelector(state => state.user)\n  const { createBlogPostLoading, createBlogPostDone, uploadDataset, uploadBlogDatasetLoading } = useSelector(state => state.blog)\n\n  useEffect(() => {\n    if (createBlogPostDone) {\n      Message.success('게시글이 등록되었습니다.')\n      setTimeout(() => {\n        dispatch({\n          type: RESET_CREATE_BLOG_POST\n        })\n        Router.push('/blog')\n      }, 2000)\n    }\n  }, [dispatch, createBlogPostDone])\n\n  const onSubmit = useCallback(() => {\n    if (title.trim() === '') return Message.error('제목을 작성해주세요.');\n    if (content.trim() === '') return Message.error('내용을 작성해주세요.');\n\n    dispatch({\n      type: CREATE_BLOG_POST_REQUEST,\n      payload: {\n        content: content,\n        title: title,\n        writer: currentUser.userId,\n        files: uploadDataset.files\n      },\n    })\n    setContent('');\n    setTitle('');\n  }, [title, content, currentUser, uploadDataset])\n\n  const isAdmin = useCallback(() => {\n    return currentUser.role === 1\n  }, [currentUser])\n\n  const onEditorChange = useCallback((value) => {\n    setContent(value)\n  }, [])\n\n  const onFilesChange = useCallback((files) => {\n    setFiles(files)\n  }, [])\n\n  const onChangeTitle = useCallback((event) => {\n    setTitle(event.target.value);\n  }, [])\n\n  const handleAddCategory = useCallback(() => {\n    if (!newCategory.trim()) {\n      return setNewCategory('');\n    }\n    if (categories.includes(newCategory)) {\n      return Message.error('이미 존재하는 블로그 분류입니다.')\n    }\n    setCategories(prev => [...prev, newCategory]);\n    setNewCategory('')\n  }, [newCategory])\n\n  const handleCancel = useCallback(() => {\n    router.back()\n  }, [])\n\n  const handleCategory = useCallback((event) => {\n    setNewCategory(event.currentTarget.value)\n  }, [])\n\n  const renderCategory = useCallback(() => categories.map((category) => {\n    return <Option key={category}>{category}</Option>\n  }), [categories])\n\n\n  return (\n    <div style={{ width: '75%', margin: 'auto' }}>\n      <div style={{ textAlign: 'center', paddingTop: 100 }}>\n        <Title level={2} >블로그 글 작성</Title>\n      </div>\n\n      <Form onFinish={onSubmit}>\n        <div style={{ display: 'flex' }}>\n          <Input value={title} onChange={onChangeTitle} placeholder='제목을 입력하세요' />\n          <Select\n            disabled={!isAdmin}\n            defaultValue={'자유게시판'}\n            style={{ width: 240 }}\n            dropdownRender={menu => (\n              <div>\n                {menu}\n                <Divider style={{ margin: '4px 0' }} />\n                <div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\n                  <Input style={{ width: '75%' }} value={newCategory} onChange={handleCategory} />\n                  <span style={{ marginTop: 5 }}>\n                    <PlusOutlined onClick={handleAddCategory} />추가\n                  </span>\n                </div>\n              </div>\n            )}\n          >\n            {renderCategory}\n          </Select>\n        </div>\n\n        <QuillEditor\n          placeholder={'블로그 글을 작성해주세요.'}\n          onEditorChange={onEditorChange}\n          onFilesChange={onFilesChange}\n        />\n\n        <Space style={{ textAlign: 'end', marginTop: '1rem' }}>\n          <Button\n            htmlType='submit'\n            type='primary'\n            onSubmit={onSubmit}\n            disabled={createBlogPostLoading}\n            loading={createBlogPostLoading || uploadBlogDatasetLoading}\n          >글쓰기</Button>\n          <Button onClick={handleCancel}>취소</Button>\n        </Space>\n      </Form>\n    </div>\n  )\n}\n\nexport default CreatePage;\n"]},"metadata":{},"sourceType":"module"}