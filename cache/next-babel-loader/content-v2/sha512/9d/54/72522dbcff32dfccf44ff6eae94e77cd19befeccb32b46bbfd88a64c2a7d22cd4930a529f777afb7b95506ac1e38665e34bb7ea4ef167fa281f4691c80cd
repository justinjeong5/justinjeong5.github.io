{"ast":null,"code":"import produce from 'immer';\nimport { REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAILURE, LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE, LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAILURE, AUTHENTICATE_USER_REQUEST, AUTHENTICATE_USER_SUCCESS, AUTHENTICATE_USER_FAILURE, EDIT_USER_REQUEST, EDIT_USER_SUCCESS, EDIT_USER_FAILURE, CONFIRM_USER_REQUEST, CONFIRM_USER_SUCCESS, CONFIRM_USER_FAILURE, ADD_TO_CART_REQUEST, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAILURE, LOAD_CART_ITEMS_REQUEST, LOAD_CART_ITEMS_SUCCESS, LOAD_CART_ITEMS_FAILURE, REMOVE_CART_ITEM_REQUEST, REMOVE_CART_ITEM_SUCCESS, REMOVE_CART_ITEM_FAILURE, UPLOAD_USER_IMAGE_REQUEST, UPLOAD_USER_IMAGE_SUCCESS, UPLOAD_USER_IMAGE_FAILURE } from './types';\nconst initialState = {\n  currentUser: {},\n  cartWithDetail: [],\n  registerUserLoading: false,\n  registerUserDone: false,\n  registerUserError: null,\n  loginUserLoading: false,\n  loginUserDone: false,\n  loginUserError: null,\n  logoutUserLoading: false,\n  logoutUserDone: false,\n  logoutUserError: null,\n  authenticateUserLoading: false,\n  authenticateUserDone: false,\n  authenticateUserError: null,\n  confirmUserLoading: false,\n  confirmUserDone: false,\n  confirmUserError: null,\n  editUserLoading: false,\n  editUserDone: false,\n  editUserError: null,\n  addToCartLoading: false,\n  addToCartDone: false,\n  addToCartError: null,\n  loadCartItemsLoading: false,\n  loadCartItemsDone: false,\n  loadCartItemsError: null,\n  removeCartItemLoading: false,\n  removeCartItemDone: false,\n  removeCartItemError: null,\n  uploadUserImageLoading: false,\n  uploadUserImageDone: false,\n  uploadUserImageError: null\n};\n\nconst user = (state = initialState, action) => {\n  return produce(state, draft => {\n    switch (action.type) {\n      case REGISTER_USER_REQUEST:\n        draft.registerUserLoading = true;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        break;\n\n      case REGISTER_USER_SUCCESS:\n        draft.registerUserLoading = false;\n        draft.registerUserDone = true;\n        break;\n\n      case REGISTER_USER_FAILURE:\n        draft.registerUserLoading = false;\n        draft.registerUserError = action.error;\n        break;\n\n      case LOGIN_USER_REQUEST:\n        draft.loginUserLoading = true;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        break;\n\n      case LOGIN_USER_SUCCESS:\n        draft.loginUserLoading = false;\n        draft.loginUserDone = true;\n        draft.currentUser.userId = action.payload.userId;\n        break;\n\n      case LOGIN_USER_FAILURE:\n        draft.loginUserLoading = false;\n        draft.loginUserError = action.error.error;\n        break;\n\n      case LOGOUT_USER_REQUEST:\n        draft.logoutUserLoading = true;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        break;\n\n      case LOGOUT_USER_SUCCESS:\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = true;\n        draft.currentUser = {};\n        break;\n\n      case LOGOUT_USER_FAILURE:\n        draft.logoutUserLoading = false;\n        draft.logoutUserError = action.error;\n        break;\n\n      case AUTHENTICATE_USER_REQUEST:\n        draft.authenticateUserLoading = true;\n        draft.authenticateUserDone = false;\n        draft.authenticateUserError = null;\n        break;\n\n      case AUTHENTICATE_USER_SUCCESS:\n        draft.currentUser = action.payload.user;\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserDone = true;\n        draft.registerUserLoading = false;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        draft.loginUserLoading = false;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        draft.editUserLoading = false;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n\n      case AUTHENTICATE_USER_FAILURE:\n        draft.currentUser = action.error.user;\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserError = action.error.err;\n        break;\n\n      case CONFIRM_USER_REQUEST:\n        draft.confirmUserLoading = true;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        break;\n\n      case CONFIRM_USER_SUCCESS:\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = true;\n        break;\n\n      case CONFIRM_USER_FAILURE:\n        draft.confirmUserLoading = false;\n        draft.confirmUserError = action.error;\n        break;\n\n      case EDIT_USER_REQUEST:\n        draft.editUserLoading = true;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n\n      case EDIT_USER_SUCCESS:\n        draft.editUserLoading = false;\n        draft.editUserDone = true;\n        draft.currentUser.isAuth = true;\n        break;\n\n      case EDIT_USER_FAILURE:\n        draft.editUserLoading = false;\n        draft.editUserError = action.error;\n        break;\n\n      case ADD_TO_CART_REQUEST:\n        draft.addToCartLoading = true;\n        draft.addToCartDone = false;\n        draft.addToCartError = null;\n        break;\n\n      case ADD_TO_CART_SUCCESS:\n        draft.addToCartLoading = false;\n        draft.addToCartDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        break;\n\n      case ADD_TO_CART_FAILURE:\n        draft.addToCartLoading = false;\n        draft.addToCartError = action.error;\n        break;\n\n      case LOAD_CART_ITEMS_REQUEST:\n        draft.loadCartItemsLoading = true;\n        draft.loadCartItemsDone = false;\n        draft.loadCartItemsError = null;\n        break;\n\n      case LOAD_CART_ITEMS_SUCCESS:\n        const data = action.payload.productDetails.map((item, index) => ({\n          key: item._id,\n          title: item.title,\n          price: item.price,\n          quantity: draft.currentUser.cart[index].quantity,\n          totalPrice: draft.currentUser.cart[index].quantity * item.price,\n          image: item.images[0].image,\n          tags: [item.sort]\n        }));\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsDone = true;\n        draft.cartWithDetail = data;\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = false;\n        break;\n\n      case LOAD_CART_ITEMS_FAILURE:\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsError = action.error;\n        break;\n\n      case REMOVE_CART_ITEM_REQUEST:\n        draft.removeCartItemLoading = true;\n        draft.removeCartItemDone = false;\n        draft.removeCartItemError = null;\n        break;\n\n      case REMOVE_CART_ITEM_SUCCESS:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        break;\n\n      case REMOVE_CART_ITEM_FAILURE:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemError = action.error;\n        break;\n\n      case UPLOAD_USER_IMAGE_REQUEST:\n        draft.uploadUserImageLoading = true;\n        draft.uploadUserImageDone = false;\n        draft.uploadUserImageError = null;\n        break;\n\n      case UPLOAD_USER_IMAGE_SUCCESS:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageDone = true;\n        draft.currentUser.image = action.payload.url;\n        break;\n\n      case UPLOAD_USER_IMAGE_FAILURE:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageError = action.error;\n        break;\n\n      default:\n        break;\n    }\n  });\n};\n\nexport default user;","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/reducers/user.js"],"names":["produce","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","LOGOUT_USER_REQUEST","LOGOUT_USER_SUCCESS","LOGOUT_USER_FAILURE","AUTHENTICATE_USER_REQUEST","AUTHENTICATE_USER_SUCCESS","AUTHENTICATE_USER_FAILURE","EDIT_USER_REQUEST","EDIT_USER_SUCCESS","EDIT_USER_FAILURE","CONFIRM_USER_REQUEST","CONFIRM_USER_SUCCESS","CONFIRM_USER_FAILURE","ADD_TO_CART_REQUEST","ADD_TO_CART_SUCCESS","ADD_TO_CART_FAILURE","LOAD_CART_ITEMS_REQUEST","LOAD_CART_ITEMS_SUCCESS","LOAD_CART_ITEMS_FAILURE","REMOVE_CART_ITEM_REQUEST","REMOVE_CART_ITEM_SUCCESS","REMOVE_CART_ITEM_FAILURE","UPLOAD_USER_IMAGE_REQUEST","UPLOAD_USER_IMAGE_SUCCESS","UPLOAD_USER_IMAGE_FAILURE","initialState","currentUser","cartWithDetail","registerUserLoading","registerUserDone","registerUserError","loginUserLoading","loginUserDone","loginUserError","logoutUserLoading","logoutUserDone","logoutUserError","authenticateUserLoading","authenticateUserDone","authenticateUserError","confirmUserLoading","confirmUserDone","confirmUserError","editUserLoading","editUserDone","editUserError","addToCartLoading","addToCartDone","addToCartError","loadCartItemsLoading","loadCartItemsDone","loadCartItemsError","removeCartItemLoading","removeCartItemDone","removeCartItemError","uploadUserImageLoading","uploadUserImageDone","uploadUserImageError","user","state","action","draft","type","error","userId","payload","err","isAuth","cart","data","productDetails","map","item","index","key","_id","title","price","quantity","totalPrice","image","images","tags","sort","url"],"mappings":"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","sourcesContent":["import produce from 'immer'\n\nimport {\n  REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAILURE,\n  LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE,\n  LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAILURE,\n  AUTHENTICATE_USER_REQUEST, AUTHENTICATE_USER_SUCCESS, AUTHENTICATE_USER_FAILURE,\n  EDIT_USER_REQUEST, EDIT_USER_SUCCESS, EDIT_USER_FAILURE,\n  CONFIRM_USER_REQUEST, CONFIRM_USER_SUCCESS, CONFIRM_USER_FAILURE,\n  ADD_TO_CART_REQUEST, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAILURE,\n  LOAD_CART_ITEMS_REQUEST, LOAD_CART_ITEMS_SUCCESS, LOAD_CART_ITEMS_FAILURE,\n  REMOVE_CART_ITEM_REQUEST, REMOVE_CART_ITEM_SUCCESS, REMOVE_CART_ITEM_FAILURE,\n  UPLOAD_USER_IMAGE_REQUEST, UPLOAD_USER_IMAGE_SUCCESS, UPLOAD_USER_IMAGE_FAILURE,\n} from './types'\n\nconst initialState = {\n  currentUser: {},\n  cartWithDetail: [],\n\n  registerUserLoading: false,\n  registerUserDone: false,\n  registerUserError: null,\n  loginUserLoading: false,\n  loginUserDone: false,\n  loginUserError: null,\n  logoutUserLoading: false,\n  logoutUserDone: false,\n  logoutUserError: null,\n  authenticateUserLoading: false,\n  authenticateUserDone: false,\n  authenticateUserError: null,\n  confirmUserLoading: false,\n  confirmUserDone: false,\n  confirmUserError: null,\n  editUserLoading: false,\n  editUserDone: false,\n  editUserError: null,\n  addToCartLoading: false,\n  addToCartDone: false,\n  addToCartError: null,\n  loadCartItemsLoading: false,\n  loadCartItemsDone: false,\n  loadCartItemsError: null,\n  removeCartItemLoading: false,\n  removeCartItemDone: false,\n  removeCartItemError: null,\n  uploadUserImageLoading: false,\n  uploadUserImageDone: false,\n  uploadUserImageError: null,\n}\n\nconst user = (state = initialState, action) => {\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case REGISTER_USER_REQUEST:\n        draft.registerUserLoading = true;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        break;\n      case REGISTER_USER_SUCCESS:\n        draft.registerUserLoading = false;\n        draft.registerUserDone = true;\n        break;\n      case REGISTER_USER_FAILURE:\n        draft.registerUserLoading = false;\n        draft.registerUserError = action.error;\n        break;\n      case LOGIN_USER_REQUEST:\n        draft.loginUserLoading = true;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        break;\n      case LOGIN_USER_SUCCESS:\n        draft.loginUserLoading = false;\n        draft.loginUserDone = true;\n        draft.currentUser.userId = action.payload.userId;\n        break;\n      case LOGIN_USER_FAILURE:\n        draft.loginUserLoading = false;\n        draft.loginUserError = action.error.error;\n        break;\n      case LOGOUT_USER_REQUEST:\n        draft.logoutUserLoading = true;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        break;\n      case LOGOUT_USER_SUCCESS:\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = true;\n        draft.currentUser = {};\n        break;\n      case LOGOUT_USER_FAILURE:\n        draft.logoutUserLoading = false;\n        draft.logoutUserError = action.error;\n        break;\n      case AUTHENTICATE_USER_REQUEST:\n        draft.authenticateUserLoading = true;\n        draft.authenticateUserDone = false;\n        draft.authenticateUserError = null;\n        break;\n      case AUTHENTICATE_USER_SUCCESS:\n        draft.currentUser = action.payload.user;\n\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserDone = true;\n        draft.registerUserLoading = false;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        draft.loginUserLoading = false;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        draft.editUserLoading = false;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n      case AUTHENTICATE_USER_FAILURE:\n        draft.currentUser = action.error.user;\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserError = action.error.err;\n        break;\n      case CONFIRM_USER_REQUEST:\n        draft.confirmUserLoading = true;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        break;\n      case CONFIRM_USER_SUCCESS:\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = true;\n        break;\n      case CONFIRM_USER_FAILURE:\n        draft.confirmUserLoading = false;\n        draft.confirmUserError = action.error;\n        break;\n      case EDIT_USER_REQUEST:\n        draft.editUserLoading = true;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n      case EDIT_USER_SUCCESS:\n        draft.editUserLoading = false;\n        draft.editUserDone = true;\n        draft.currentUser.isAuth = true;\n        break;\n      case EDIT_USER_FAILURE:\n        draft.editUserLoading = false;\n        draft.editUserError = action.error;\n        break;\n      case ADD_TO_CART_REQUEST:\n        draft.addToCartLoading = true;\n        draft.addToCartDone = false;\n        draft.addToCartError = null;\n        break;\n      case ADD_TO_CART_SUCCESS:\n        draft.addToCartLoading = false;\n        draft.addToCartDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        break;\n      case ADD_TO_CART_FAILURE:\n        draft.addToCartLoading = false;\n        draft.addToCartError = action.error;\n        break;\n      case LOAD_CART_ITEMS_REQUEST:\n        draft.loadCartItemsLoading = true;\n        draft.loadCartItemsDone = false;\n        draft.loadCartItemsError = null;\n        break;\n      case LOAD_CART_ITEMS_SUCCESS:\n        const data = action.payload.productDetails.map((item, index) => ({\n          key: item._id,\n          title: item.title,\n          price: item.price,\n          quantity: draft.currentUser.cart[index].quantity,\n          totalPrice: draft.currentUser.cart[index].quantity * item.price,\n          image: item.images[0].image,\n          tags: [item.sort]\n        }));\n\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsDone = true;\n        draft.cartWithDetail = data;\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = false;\n        break;\n      case LOAD_CART_ITEMS_FAILURE:\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsError = action.error;\n        break;\n      case REMOVE_CART_ITEM_REQUEST:\n        draft.removeCartItemLoading = true;\n        draft.removeCartItemDone = false;\n        draft.removeCartItemError = null;\n        break;\n      case REMOVE_CART_ITEM_SUCCESS:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        break;\n      case REMOVE_CART_ITEM_FAILURE:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemError = action.error;\n        break;\n      case UPLOAD_USER_IMAGE_REQUEST:\n        draft.uploadUserImageLoading = true;\n        draft.uploadUserImageDone = false;\n        draft.uploadUserImageError = null;\n        break;\n      case UPLOAD_USER_IMAGE_SUCCESS:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageDone = true;\n        draft.currentUser.image = action.payload.url;\n        break;\n      case UPLOAD_USER_IMAGE_FAILURE:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageError = action.error;\n        break;\n      default:\n        break;\n    }\n  });\n}\n\nexport default user;"]},"metadata":{},"sourceType":"module"}