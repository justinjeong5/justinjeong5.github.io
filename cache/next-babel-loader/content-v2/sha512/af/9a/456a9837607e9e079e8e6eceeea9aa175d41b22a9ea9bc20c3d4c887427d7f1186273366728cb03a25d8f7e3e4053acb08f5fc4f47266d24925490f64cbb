{"ast":null,"code":"import produce from 'immer';\nimport { REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAILURE, LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE, LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAILURE, AUTHENTICATE_USER_REQUEST, AUTHENTICATE_USER_SUCCESS, AUTHENTICATE_USER_FAILURE, EDIT_USER_REQUEST, EDIT_USER_SUCCESS, EDIT_USER_FAILURE, CONFIRM_USER_REQUEST, CONFIRM_USER_SUCCESS, CONFIRM_USER_FAILURE, UPLOAD_USER_IMAGE_REQUEST, UPLOAD_USER_IMAGE_SUCCESS, UPLOAD_USER_IMAGE_FAILURE } from './types';\nconst initialState = {\n  currentUser: {},\n  message: '',\n  registerUserLoading: false,\n  registerUserDone: false,\n  registerUserError: null,\n  loginUserLoading: false,\n  loginUserDone: false,\n  loginUserError: null,\n  logoutUserLoading: false,\n  logoutUserDone: false,\n  logoutUserError: null,\n  authenticateUserLoading: false,\n  authenticateUserDone: false,\n  authenticateUserError: null,\n  confirmUserLoading: false,\n  confirmUserDone: false,\n  confirmUserError: null,\n  editUserLoading: false,\n  editUserDone: false,\n  editUserError: null,\n  uploadUserImageLoading: false,\n  uploadUserImageDone: false,\n  uploadUserImageError: null\n};\n\nconst user = (state = initialState, action) => {\n  return produce(state, draft => {\n    switch (action.type) {\n      case REGISTER_USER_REQUEST:\n        draft.registerUserLoading = true;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        break;\n\n      case REGISTER_USER_SUCCESS:\n        draft.registerUserLoading = false;\n        draft.registerUserDone = true;\n        draft.message = action.payload.message;\n        break;\n\n      case REGISTER_USER_FAILURE:\n        draft.registerUserLoading = false; // draft.registerUserError = action.error.code;\n\n        draft.message = action.error.message;\n        break;\n\n      case LOGIN_USER_REQUEST:\n        draft.loginUserLoading = true;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        break;\n\n      case LOGIN_USER_SUCCESS:\n        draft.loginUserLoading = false;\n        draft.loginUserDone = true;\n        draft.currentUser.userId = action.payload.userId;\n        draft.message = action.payload.message;\n        break;\n\n      case LOGIN_USER_FAILURE:\n        draft.loginUserLoading = false;\n        draft.loginUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case LOGOUT_USER_REQUEST:\n        draft.logoutUserLoading = true;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        break;\n\n      case LOGOUT_USER_SUCCESS:\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = true;\n        draft.currentUser = {};\n        draft.message = action.payload.message;\n        break;\n\n      case LOGOUT_USER_FAILURE:\n        draft.logoutUserLoading = false;\n        draft.logoutUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case AUTHENTICATE_USER_REQUEST:\n        draft.authenticateUserLoading = true;\n        draft.authenticateUserDone = false;\n        draft.authenticateUserError = null;\n        break;\n\n      case AUTHENTICATE_USER_SUCCESS:\n        draft.currentUser = action.payload.user;\n        draft.message = action.payload.message;\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserDone = true;\n        draft.registerUserLoading = false;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        draft.loginUserLoading = false;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        draft.editUserLoading = false;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n\n      case AUTHENTICATE_USER_FAILURE:\n        draft.currentUser = action.error.user;\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserError = action.error.err;\n        draft.message = action.error.message;\n        break;\n\n      case CONFIRM_USER_REQUEST:\n        draft.confirmUserLoading = true;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        break;\n\n      case CONFIRM_USER_SUCCESS:\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = true;\n        draft.message = action.payload.message;\n        break;\n\n      case CONFIRM_USER_FAILURE:\n        draft.confirmUserLoading = false;\n        draft.confirmUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case EDIT_USER_REQUEST:\n        draft.editUserLoading = true;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n\n      case EDIT_USER_SUCCESS:\n        draft.editUserLoading = false;\n        draft.editUserDone = true;\n        draft.currentUser.isAuth = true;\n        draft.message = action.payload.message;\n        break;\n\n      case EDIT_USER_FAILURE:\n        draft.editUserLoading = false;\n        draft.editUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case ADD_TO_CART_REQUEST:\n        draft.addToCartLoading = true;\n        draft.addToCartDone = false;\n        draft.addToCartError = null;\n        break;\n\n      case ADD_TO_CART_SUCCESS:\n        draft.addToCartLoading = false;\n        draft.addToCartDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        draft.message = action.payload.message;\n        break;\n\n      case ADD_TO_CART_FAILURE:\n        draft.addToCartLoading = false;\n        draft.addToCartError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case LOAD_CART_ITEMS_REQUEST:\n        draft.loadCartItemsLoading = true;\n        draft.loadCartItemsDone = false;\n        draft.loadCartItemsError = null;\n        break;\n\n      case LOAD_CART_ITEMS_SUCCESS:\n        const data = action.payload.productDetails.map((item, index) => ({\n          key: item._id,\n          title: item.title,\n          price: item.price,\n          quantity: draft.currentUser.cart[index].quantity,\n          totalPrice: draft.currentUser.cart[index].quantity * item.price,\n          image: item.images[0].image,\n          tags: [item.sort]\n        }));\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsDone = true;\n        draft.cartWithDetail = data;\n        draft.message = action.payload.message;\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = false;\n        break;\n\n      case LOAD_CART_ITEMS_FAILURE:\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case REMOVE_CART_ITEM_REQUEST:\n        draft.removeCartItemLoading = true;\n        draft.removeCartItemDone = false;\n        draft.removeCartItemError = null;\n        break;\n\n      case REMOVE_CART_ITEM_SUCCESS:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        draft.message = action.payload.message;\n        break;\n\n      case REMOVE_CART_ITEM_FAILURE:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      case UPLOAD_USER_IMAGE_REQUEST:\n        draft.uploadUserImageLoading = true;\n        draft.uploadUserImageDone = false;\n        draft.uploadUserImageError = null;\n        break;\n\n      case UPLOAD_USER_IMAGE_SUCCESS:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageDone = true;\n        draft.currentUser.image = action.payload.url;\n        draft.message = action.payload.message;\n        break;\n\n      case UPLOAD_USER_IMAGE_FAILURE:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageError = action.error.code;\n        draft.message = action.error.message;\n        break;\n\n      default:\n        break;\n    }\n  });\n};\n\nexport default user;","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/reducers/user.js"],"names":["produce","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","LOGOUT_USER_REQUEST","LOGOUT_USER_SUCCESS","LOGOUT_USER_FAILURE","AUTHENTICATE_USER_REQUEST","AUTHENTICATE_USER_SUCCESS","AUTHENTICATE_USER_FAILURE","EDIT_USER_REQUEST","EDIT_USER_SUCCESS","EDIT_USER_FAILURE","CONFIRM_USER_REQUEST","CONFIRM_USER_SUCCESS","CONFIRM_USER_FAILURE","UPLOAD_USER_IMAGE_REQUEST","UPLOAD_USER_IMAGE_SUCCESS","UPLOAD_USER_IMAGE_FAILURE","initialState","currentUser","message","registerUserLoading","registerUserDone","registerUserError","loginUserLoading","loginUserDone","loginUserError","logoutUserLoading","logoutUserDone","logoutUserError","authenticateUserLoading","authenticateUserDone","authenticateUserError","confirmUserLoading","confirmUserDone","confirmUserError","editUserLoading","editUserDone","editUserError","uploadUserImageLoading","uploadUserImageDone","uploadUserImageError","user","state","action","draft","type","payload","error","userId","code","err","isAuth","ADD_TO_CART_REQUEST","addToCartLoading","addToCartDone","addToCartError","ADD_TO_CART_SUCCESS","cart","ADD_TO_CART_FAILURE","LOAD_CART_ITEMS_REQUEST","loadCartItemsLoading","loadCartItemsDone","loadCartItemsError","LOAD_CART_ITEMS_SUCCESS","data","productDetails","map","item","index","key","_id","title","price","quantity","totalPrice","image","images","tags","sort","cartWithDetail","removeCartItemLoading","removeCartItemDone","LOAD_CART_ITEMS_FAILURE","REMOVE_CART_ITEM_REQUEST","removeCartItemError","REMOVE_CART_ITEM_SUCCESS","REMOVE_CART_ITEM_FAILURE","url"],"mappings":"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","sourcesContent":["import produce from 'immer'\n\nimport {\n  REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAILURE,\n  LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE,\n  LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAILURE,\n  AUTHENTICATE_USER_REQUEST, AUTHENTICATE_USER_SUCCESS, AUTHENTICATE_USER_FAILURE,\n  EDIT_USER_REQUEST, EDIT_USER_SUCCESS, EDIT_USER_FAILURE,\n  CONFIRM_USER_REQUEST, CONFIRM_USER_SUCCESS, CONFIRM_USER_FAILURE,\n  UPLOAD_USER_IMAGE_REQUEST, UPLOAD_USER_IMAGE_SUCCESS, UPLOAD_USER_IMAGE_FAILURE,\n} from './types'\n\nconst initialState = {\n  currentUser: {},\n  message: '',\n\n  registerUserLoading: false,\n  registerUserDone: false,\n  registerUserError: null,\n  loginUserLoading: false,\n  loginUserDone: false,\n  loginUserError: null,\n  logoutUserLoading: false,\n  logoutUserDone: false,\n  logoutUserError: null,\n  authenticateUserLoading: false,\n  authenticateUserDone: false,\n  authenticateUserError: null,\n  confirmUserLoading: false,\n  confirmUserDone: false,\n  confirmUserError: null,\n  editUserLoading: false,\n  editUserDone: false,\n  editUserError: null,\n  uploadUserImageLoading: false,\n  uploadUserImageDone: false,\n  uploadUserImageError: null,\n}\n\nconst user = (state = initialState, action) => {\n  return produce(state, (draft) => {\n    switch (action.type) {\n      case REGISTER_USER_REQUEST:\n        draft.registerUserLoading = true;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        break;\n      case REGISTER_USER_SUCCESS:\n        draft.registerUserLoading = false;\n        draft.registerUserDone = true;\n        draft.message = action.payload.message;\n        break;\n      case REGISTER_USER_FAILURE:\n        draft.registerUserLoading = false;\n        // draft.registerUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case LOGIN_USER_REQUEST:\n        draft.loginUserLoading = true;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        break;\n      case LOGIN_USER_SUCCESS:\n        draft.loginUserLoading = false;\n        draft.loginUserDone = true;\n        draft.currentUser.userId = action.payload.userId;\n        draft.message = action.payload.message;\n        break;\n      case LOGIN_USER_FAILURE:\n        draft.loginUserLoading = false;\n        draft.loginUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case LOGOUT_USER_REQUEST:\n        draft.logoutUserLoading = true;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        break;\n      case LOGOUT_USER_SUCCESS:\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = true;\n        draft.currentUser = {};\n        draft.message = action.payload.message;\n        break;\n      case LOGOUT_USER_FAILURE:\n        draft.logoutUserLoading = false;\n        draft.logoutUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case AUTHENTICATE_USER_REQUEST:\n        draft.authenticateUserLoading = true;\n        draft.authenticateUserDone = false;\n        draft.authenticateUserError = null;\n        break;\n      case AUTHENTICATE_USER_SUCCESS:\n        draft.currentUser = action.payload.user;\n        draft.message = action.payload.message;\n\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserDone = true;\n        draft.registerUserLoading = false;\n        draft.registerUserDone = false;\n        draft.registerUserError = null;\n        draft.loginUserLoading = false;\n        draft.loginUserDone = false;\n        draft.loginUserError = null;\n        draft.logoutUserLoading = false;\n        draft.logoutUserDone = false;\n        draft.logoutUserError = null;\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        draft.editUserLoading = false;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n      case AUTHENTICATE_USER_FAILURE:\n        draft.currentUser = action.error.user;\n        draft.authenticateUserLoading = false;\n        draft.authenticateUserError = action.error.err;\n        draft.message = action.error.message;\n        break;\n      case CONFIRM_USER_REQUEST:\n        draft.confirmUserLoading = true;\n        draft.confirmUserDone = false;\n        draft.confirmUserError = null;\n        break;\n      case CONFIRM_USER_SUCCESS:\n        draft.confirmUserLoading = false;\n        draft.confirmUserDone = true;\n        draft.message = action.payload.message;\n        break;\n      case CONFIRM_USER_FAILURE:\n        draft.confirmUserLoading = false;\n        draft.confirmUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case EDIT_USER_REQUEST:\n        draft.editUserLoading = true;\n        draft.editUserDone = false;\n        draft.editUserError = null;\n        break;\n      case EDIT_USER_SUCCESS:\n        draft.editUserLoading = false;\n        draft.editUserDone = true;\n        draft.currentUser.isAuth = true;\n        draft.message = action.payload.message;\n        break;\n      case EDIT_USER_FAILURE:\n        draft.editUserLoading = false;\n        draft.editUserError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case ADD_TO_CART_REQUEST:\n        draft.addToCartLoading = true;\n        draft.addToCartDone = false;\n        draft.addToCartError = null;\n        break;\n      case ADD_TO_CART_SUCCESS:\n        draft.addToCartLoading = false;\n        draft.addToCartDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        draft.message = action.payload.message;\n        break;\n      case ADD_TO_CART_FAILURE:\n        draft.addToCartLoading = false;\n        draft.addToCartError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case LOAD_CART_ITEMS_REQUEST:\n        draft.loadCartItemsLoading = true;\n        draft.loadCartItemsDone = false;\n        draft.loadCartItemsError = null;\n        break;\n      case LOAD_CART_ITEMS_SUCCESS:\n        const data = action.payload.productDetails.map((item, index) => ({\n          key: item._id,\n          title: item.title,\n          price: item.price,\n          quantity: draft.currentUser.cart[index].quantity,\n          totalPrice: draft.currentUser.cart[index].quantity * item.price,\n          image: item.images[0].image,\n          tags: [item.sort]\n        }));\n\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsDone = true;\n        draft.cartWithDetail = data;\n        draft.message = action.payload.message;\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = false;\n        break;\n      case LOAD_CART_ITEMS_FAILURE:\n        draft.loadCartItemsLoading = false;\n        draft.loadCartItemsError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case REMOVE_CART_ITEM_REQUEST:\n        draft.removeCartItemLoading = true;\n        draft.removeCartItemDone = false;\n        draft.removeCartItemError = null;\n        break;\n      case REMOVE_CART_ITEM_SUCCESS:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemDone = true;\n        draft.currentUser.cart = action.payload.cart;\n        draft.message = action.payload.message;\n        break;\n      case REMOVE_CART_ITEM_FAILURE:\n        draft.removeCartItemLoading = false;\n        draft.removeCartItemError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      case UPLOAD_USER_IMAGE_REQUEST:\n        draft.uploadUserImageLoading = true;\n        draft.uploadUserImageDone = false;\n        draft.uploadUserImageError = null;\n        break;\n      case UPLOAD_USER_IMAGE_SUCCESS:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageDone = true;\n        draft.currentUser.image = action.payload.url;\n        draft.message = action.payload.message;\n        break;\n      case UPLOAD_USER_IMAGE_FAILURE:\n        draft.uploadUserImageLoading = false;\n        draft.uploadUserImageError = action.error.code;\n        draft.message = action.error.message;\n        break;\n      default:\n        break;\n    }\n  });\n}\n\nexport default user;"]},"metadata":{},"sourceType":"module"}