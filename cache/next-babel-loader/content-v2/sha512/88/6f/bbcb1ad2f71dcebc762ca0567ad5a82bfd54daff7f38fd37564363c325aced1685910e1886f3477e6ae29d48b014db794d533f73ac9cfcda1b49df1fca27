{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/justinjeong/Github/javascript/githubIo/client/components/User/RegisterPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo, useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { Form, Input, Button, Typography, message as Message, Space } from 'antd';\nimport { UserOutlined, MailOutlined, LockOutlined, CheckSquareOutlined } from '@ant-design/icons';\nimport md5 from 'md5';\nimport { REGISTER_USER_REQUEST } from '../../reducers/types';\nconst {\n  Title\n} = Typography;\n\nfunction RegisterPage() {\n  _s();\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    currentUser,\n    registerUserLoading,\n    registerUserDone,\n    registerUserError,\n    message\n  } = useSelector(state => state.user);\n  useEffect(() => {\n    if (registerUserDone) {\n      Router.push('/login');\n    }\n\n    if (currentUser.isAuth) {\n      Message.warning('로그인 하지 않은 사용자만 회원가입 가능합니다.');\n      return Router.push('/');\n    }\n\n    if (registerUserError) {\n      Message.error({\n        content: message,\n        duration: 2\n      });\n    }\n  }, [registerUserDone, registerUserError, message, currentUser]);\n  const onFinish = useCallback(values => {\n    const payload = {\n      email: values.email,\n      name: values.userName,\n      password: values.password,\n      image: `https://gravatar.com/avatar/${md5(values.email)}?d=identicon`\n    };\n    dispatch({\n      type: REGISTER_USER_REQUEST,\n      payload\n    });\n  }, []);\n  const handleCancel = useCallback(() => {\n    router.back();\n  }, []);\n  const rootDivWrapperStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: '100vh'\n  }), []);\n  const formLabelColStyle = useMemo(() => ({\n    span: 8\n  }), []);\n  const formWrapperColStyle = useMemo(() => ({\n    span: 16\n  }), []);\n  const formStyle = useMemo(() => ({\n    width: '400px'\n  }), []);\n  const titleStyle = useMemo(() => ({\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: 40\n  }), []);\n  const formEmailRules = useMemo(() => [{\n    required: true,\n    message: '이메일을 입력해주세요.'\n  }, {\n    type: \"email\",\n    message: '이메일의 형식이 올바르지 않습니다.'\n  }], []);\n  const formUserNameRules = useMemo(() => [{\n    required: true,\n    message: '이름을 입력해주세요.'\n  }, {\n    type: \"string\",\n    max: 20,\n    message: '이름은 20자 이내로 입력해주세요'\n  }], []);\n  const fromPasswordRules = useMemo(() => [{\n    required: true,\n    message: '비밀번호를 입력해주세요.'\n  }, {\n    type: \"string\",\n    message: '비밀번호의 형식이 올바르지 않습니다.'\n  }, {\n    whitespace: false,\n    message: '비밀번호의 형식이 올바르지 않습니다.'\n  }, {\n    min: 6,\n    message: '비밀번호는 6글자보다 길어야합니다.'\n  }], []);\n  const formPasswordConfirmRules = useMemo(() => [{\n    required: true,\n    message: '비밀번호를 입력해주세요.'\n  }, ({\n    getFieldValue\n  }) => ({\n    validator(rule, value) {\n      if (!value || getFieldValue('password') === value) {\n        return Promise.resolve();\n      }\n\n      return Promise.reject('비밀번호 확인이 일치하지 않습니다.');\n    }\n\n  })], []);\n  const formItemWrapperColStyle = useMemo(() => ({\n    offset: 8,\n    span: 16\n  }), []);\n  const formItemStyle = useMemo(() => ({\n    marginTop: -10\n  }), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: rootDivWrapperStyle,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      labelCol: formLabelColStyle,\n      wrapperCol: formWrapperColStyle,\n      name: \"basic\",\n      style: formStyle,\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        level: 2,\n        style: titleStyle,\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"\\uC774\\uBA54\\uC77C\",\n        name: \"email\",\n        rules: formEmailRules,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(MailOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 26\n          }, this),\n          placeholder: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"\\uC774\\uB984\",\n        name: \"userName\",\n        rules: formUserNameRules,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 26\n          }, this),\n          placeholder: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638 \",\n        name: \"password\",\n        rules: fromPasswordRules,\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 35\n          }, this),\n          placeholder: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n        name: \"passwordConfirm\",\n        rules: formPasswordConfirmRules,\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          prefix: /*#__PURE__*/_jsxDEV(CheckSquareOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 35\n          }, this),\n          placeholder: \"password check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        children: /*#__PURE__*/_jsxDEV(Space, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: registerUserLoading,\n            disabled: registerUserLoading,\n            children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCancel,\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        style: formItemStyle,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            children: \"\\uC774\\uBBF8 \\uD68C\\uC6D0\\uC774\\uC2DC\\uB77C\\uBA74\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RegisterPage, \"QgW8fp7Mb+g42b0dbmDGRjjT4t4=\", false, function () {\n  return [useDispatch, useRouter, useSelector];\n});\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/User/RegisterPage.js"],"names":["React","useMemo","useEffect","useCallback","useDispatch","useSelector","Router","useRouter","Link","Form","Input","Button","Typography","message","Message","Space","UserOutlined","MailOutlined","LockOutlined","CheckSquareOutlined","md5","REGISTER_USER_REQUEST","Title","RegisterPage","dispatch","router","currentUser","registerUserLoading","registerUserDone","registerUserError","state","user","push","isAuth","warning","error","content","duration","onFinish","values","payload","email","name","userName","password","image","type","handleCancel","back","rootDivWrapperStyle","display","justifyContent","alignItems","width","height","formLabelColStyle","span","formWrapperColStyle","formStyle","titleStyle","marginBottom","formEmailRules","required","formUserNameRules","max","fromPasswordRules","whitespace","min","formPasswordConfirmRules","getFieldValue","validator","rule","value","Promise","resolve","reject","formItemWrapperColStyle","offset","formItemStyle","marginTop"],"mappings":"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","sourcesContent":["import React, { useMemo, useEffect, useCallback } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Router, { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport { Form, Input, Button, Typography, message as Message, Space } from 'antd';\nimport { UserOutlined, MailOutlined, LockOutlined, CheckSquareOutlined } from '@ant-design/icons';\nimport md5 from 'md5'\nimport { REGISTER_USER_REQUEST } from '../../reducers/types';\nconst { Title } = Typography;\n\nfunction RegisterPage() {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { currentUser, registerUserLoading, registerUserDone, registerUserError, message } = useSelector(state => state.user)\n\n  useEffect(() => {\n    if (registerUserDone) {\n      Router.push('/login')\n    }\n    if (currentUser.isAuth) {\n      Message.warning('로그인 하지 않은 사용자만 회원가입 가능합니다.');\n      return Router.push('/')\n    }\n    if (registerUserError) {\n      Message.error({ content: message, duration: 2 });\n    }\n  }, [registerUserDone, registerUserError, message, currentUser])\n\n  const onFinish = useCallback((values) => {\n    const payload = {\n      email: values.email,\n      name: values.userName,\n      password: values.password,\n      image: `https://gravatar.com/avatar/${md5(values.email)}?d=identicon`,\n    }\n    dispatch({\n      type: REGISTER_USER_REQUEST,\n      payload\n    })\n  }, []);\n\n  const handleCancel = useCallback(() => {\n    router.back()\n  }, [])\n\n  const rootDivWrapperStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%', height: '100vh' }), [])\n  const formLabelColStyle = useMemo(() => ({ span: 8 }), [])\n  const formWrapperColStyle = useMemo(() => ({ span: 16 }), [])\n  const formStyle = useMemo(() => ({ width: '400px' }), [])\n  const titleStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', marginBottom: 40 }), [])\n  const formEmailRules = useMemo(() => ([\n    { required: true, message: '이메일을 입력해주세요.' },\n    { type: \"email\", message: '이메일의 형식이 올바르지 않습니다.' }\n  ]), [])\n  const formUserNameRules = useMemo(() => ([\n    { required: true, message: '이름을 입력해주세요.' },\n    { type: \"string\", max: 20, message: '이름은 20자 이내로 입력해주세요' }\n  ]), [])\n  const fromPasswordRules = useMemo(() => ([\n    { required: true, message: '비밀번호를 입력해주세요.' },\n    { type: \"string\", message: '비밀번호의 형식이 올바르지 않습니다.' },\n    { whitespace: false, message: '비밀번호의 형식이 올바르지 않습니다.' },\n    { min: 6, message: '비밀번호는 6글자보다 길어야합니다.' }\n  ]), [])\n  const formPasswordConfirmRules = useMemo(() => ([\n    { required: true, message: '비밀번호를 입력해주세요.' },\n    ({ getFieldValue }) => ({\n      validator(rule, value) {\n        if (!value || getFieldValue('password') === value) {\n          return Promise.resolve();\n        }\n        return Promise.reject('비밀번호 확인이 일치하지 않습니다.');\n      },\n    })\n  ]), [])\n  const formItemWrapperColStyle = useMemo(() => ({ offset: 8, span: 16 }), [])\n  const formItemStyle = useMemo(() => ({ marginTop: -10 }), [])\n\n  return (\n    <div style={rootDivWrapperStyle}>\n      <Form\n        labelCol={formLabelColStyle}\n        wrapperCol={formWrapperColStyle}\n        name=\"basic\"\n        style={formStyle}\n        onFinish={onFinish}\n      >\n        <Title level={2} style={titleStyle} >회원가입</Title>\n        <Form.Item\n          label=\"이메일\"\n          name=\"email\"\n          rules={formEmailRules}\n        >\n          <Input prefix={<MailOutlined />} placeholder=\"email\" />\n        </Form.Item>\n\n        <Form.Item\n          label=\"이름\"\n          name=\"userName\"\n          rules={formUserNameRules}\n        >\n          <Input prefix={<UserOutlined />} placeholder=\"name\" />\n        </Form.Item>\n\n        <Form.Item\n          label=\"비밀번호 \"\n          name=\"password\"\n          rules={fromPasswordRules}\n        >\n          <Input.Password prefix={<LockOutlined />} placeholder=\"password\" />\n        </Form.Item>\n\n        <Form.Item\n          label=\"비밀번호 확인\"\n          name=\"passwordConfirm\"\n          rules={formPasswordConfirmRules}\n        >\n          <Input.Password prefix={<CheckSquareOutlined />} placeholder=\"password check\" />\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle}>\n          <Space >\n            <Button type=\"primary\" htmlType=\"submit\"\n              loading={registerUserLoading}\n              disabled={registerUserLoading}>\n              회원가입\n            </Button>\n            <Button onClick={handleCancel} >\n              취소\n            </Button>\n          </Space>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} style={formItemStyle}>\n          <Link href='/login'><a>이미 회원이시라면</a></Link>\n        </Form.Item>\n\n      </Form>\n    </div >\n  )\n}\n\nexport default RegisterPage;"]},"metadata":{},"sourceType":"module"}