{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/justinjeong/Github/javascript/githubIo/client/components/Blog/CreatePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router';\nimport { Typography, Form, Button, message as Message, Input, Space, Select, Divider } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { CREATE_BLOG_POST_REQUEST, RESET_CREATE_BLOG_POST } from '../../reducers/types';\nimport QuillEditor from './Editor/QuillEditor';\nconst ReactQuill = true ? require('react-quill') : () => false;\nconst {\n  Title\n} = Typography;\nconst {\n  Option\n} = Select;\n\nfunction CreatePage() {\n  _s();\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    0: content,\n    1: setContent\n  } = useState('');\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: files,\n    1: setFiles\n  } = useState([]);\n  const {\n    0: newCategory,\n    1: setNewCategory\n  } = useState('');\n  const {\n    0: categories,\n    1: setCategories\n  } = useState(['자유게시판']);\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n  const {\n    createBlogPostLoading,\n    createBlogPostDone,\n    uploadDataset,\n    uploadBlogDatasetLoading\n  } = useSelector(state => state.blog);\n  useEffect(() => {\n    if (createBlogPostDone) {\n      dispatch({\n        type: RESET_CREATE_BLOG_POST\n      });\n      Message.success('게시글이 등록되었습니다.');\n      Router.push('/blog');\n    }\n  }, [dispatch, createBlogPostDone]);\n  const onSubmit = useCallback(() => {\n    if (title.trim() === '') return Message.error('제목을 작성해주세요.');\n    if (content.trim() === '') return Message.error('내용을 작성해주세요.');\n    dispatch({\n      type: CREATE_BLOG_POST_REQUEST,\n      payload: {\n        content: content,\n        title: title,\n        writer: currentUser.userId,\n        files: uploadDataset.files\n      }\n    });\n    setContent('');\n    setTitle('');\n  }, [title, content, currentUser, uploadDataset]);\n  const onEditorChange = useCallback(value => {\n    setContent(value);\n  }, []);\n  const onFilesChange = useCallback(files => {\n    setFiles(files);\n  }, []);\n  const onChangeTitle = useCallback(event => {\n    setTitle(event.target.value);\n  }, []);\n  const handleAddCategory = useCallback(() => {\n    if (!newCategory.trim()) {\n      return setNewCategory('');\n    }\n\n    if (categories.includes(newCategory)) {\n      return Message.error('이미 존재하는 블로그 분류입니다.');\n    }\n\n    setCategories(prev => [...prev, newCategory]);\n    setNewCategory('');\n  }, [newCategory]);\n  const handleCancel = useCallback(() => {\n    router.back();\n  }, []);\n  const handleCategory = useCallback(event => {\n    setNewCategory(event.currentTarget.value);\n  }, []);\n  const renderCategory = useCallback(() => categories.map(category => {\n    return /*#__PURE__*/_jsxDEV(Option, {\n      children: category\n    }, category, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 12\n    }, this);\n  }), [categories]);\n\n  if (document) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '75%',\n        margin: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          paddingTop: 50\n        },\n        children: /*#__PURE__*/_jsxDEV(Title, {\n          level: 2,\n          children: \"\\uBE14\\uB85C\\uADF8 \\uAE00 \\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onFinish: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            value: title,\n            onChange: onChangeTitle,\n            placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            disabled: !currentUser.role,\n            defaultValue: '자유게시판',\n            style: {\n              width: 240\n            },\n            dropdownRender: menu => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [menu, /*#__PURE__*/_jsxDEV(Divider, {\n                style: {\n                  margin: '4px 0'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexWrap: 'nowrap',\n                  padding: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  style: {\n                    width: '75%'\n                  },\n                  value: newCategory,\n                  onChange: handleCategory\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginTop: 5\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(PlusOutlined, {\n                    onClick: handleAddCategory\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 23\n                  }, this), \"\\uCD94\\uAC00\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this),\n            children: renderCategory()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n          value: value,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Space, {\n          style: {\n            textAlign: 'end',\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            htmlType: \"submit\",\n            type: \"primary\",\n            onSubmit: onSubmit,\n            disabled: createBlogPostLoading,\n            loading: createBlogPostLoading || uploadBlogDatasetLoading,\n            children: \"\\uAE00\\uC4F0\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCancel,\n            children: \"\\uCDE8\\uC18C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  } else {\n    return null;\n  }\n}\n\n_s(CreatePage, \"JbkJU0NzgIEGJKPbt/OhJZ8cSf4=\", false, function () {\n  return [useDispatch, useRouter, useSelector, useSelector];\n});\n\n_c = CreatePage;\nexport default CreatePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePage\");","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/Blog/CreatePage.js"],"names":["React","useCallback","useEffect","useState","useDispatch","useSelector","Router","useRouter","Typography","Form","Button","message","Message","Input","Space","Select","Divider","PlusOutlined","CREATE_BLOG_POST_REQUEST","RESET_CREATE_BLOG_POST","QuillEditor","ReactQuill","require","Title","Option","CreatePage","dispatch","router","content","setContent","title","setTitle","files","setFiles","newCategory","setNewCategory","categories","setCategories","currentUser","state","user","createBlogPostLoading","createBlogPostDone","uploadDataset","uploadBlogDatasetLoading","blog","type","success","push","onSubmit","trim","error","payload","writer","userId","onEditorChange","value","onFilesChange","onChangeTitle","event","target","handleAddCategory","includes","prev","handleCancel","back","handleCategory","currentTarget","renderCategory","map","category","document","width","margin","textAlign","paddingTop","display","role","menu","flexWrap","padding","marginTop","handleChange"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router'\nimport { Typography, Form, Button, message as Message, Input, Space, Select, Divider } from 'antd'\nimport { PlusOutlined } from '@ant-design/icons';\nimport { CREATE_BLOG_POST_REQUEST, RESET_CREATE_BLOG_POST } from '../../reducers/types'\nimport QuillEditor from './Editor/QuillEditor'\n\nconst ReactQuill = typeof window === 'object' ? require('react-quill') : () => false;\n\n\nconst { Title } = Typography;\nconst { Option } = Select;\n\nfunction CreatePage() {\n\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const [content, setContent] = useState('')\n  const [title, setTitle] = useState('')\n  const [files, setFiles] = useState([]);\n  const [newCategory, setNewCategory] = useState('');\n  const [categories, setCategories] = useState(['자유게시판']);\n\n  const { currentUser } = useSelector(state => state.user)\n  const { createBlogPostLoading, createBlogPostDone, uploadDataset, uploadBlogDatasetLoading } = useSelector(state => state.blog)\n\n  useEffect(() => {\n    if (createBlogPostDone) {\n      dispatch({\n        type: RESET_CREATE_BLOG_POST\n      })\n      Message.success('게시글이 등록되었습니다.')\n      Router.push('/blog')\n    }\n  }, [dispatch, createBlogPostDone])\n\n  const onSubmit = useCallback(() => {\n    if (title.trim() === '') return Message.error('제목을 작성해주세요.');\n    if (content.trim() === '') return Message.error('내용을 작성해주세요.');\n\n    dispatch({\n      type: CREATE_BLOG_POST_REQUEST,\n      payload: {\n        content: content,\n        title: title,\n        writer: currentUser.userId,\n        files: uploadDataset.files\n      },\n    })\n    setContent('');\n    setTitle('');\n  }, [title, content, currentUser, uploadDataset])\n\n  const onEditorChange = useCallback((value) => {\n    setContent(value)\n  }, [])\n\n  const onFilesChange = useCallback((files) => {\n    setFiles(files)\n  }, [])\n\n  const onChangeTitle = useCallback((event) => {\n    setTitle(event.target.value);\n  }, [])\n\n  const handleAddCategory = useCallback(() => {\n    if (!newCategory.trim()) {\n      return setNewCategory('');\n    }\n    if (categories.includes(newCategory)) {\n      return Message.error('이미 존재하는 블로그 분류입니다.')\n    }\n    setCategories(prev => [...prev, newCategory]);\n    setNewCategory('')\n  }, [newCategory])\n\n  const handleCancel = useCallback(() => {\n    router.back()\n  }, [])\n\n  const handleCategory = useCallback((event) => {\n    setNewCategory(event.currentTarget.value)\n  }, [])\n\n  const renderCategory = useCallback(() => categories.map((category) => {\n    return <Option key={category}>{category}</Option>\n  }), [categories])\n\n\n  if (document) {\n    return (\n      <div style={{ width: '75%', margin: 'auto' }}>\n        <div style={{ textAlign: 'center', paddingTop: 50 }}>\n          <Title level={2} >블로그 글 작성</Title>\n        </div>\n\n        <Form onFinish={onSubmit}>\n          <div style={{ display: 'flex' }}>\n            <Input value={title} onChange={onChangeTitle} placeholder='제목을 입력하세요' />\n            <Select\n              disabled={!currentUser.role}\n              defaultValue={'자유게시판'}\n              style={{ width: 240 }}\n              dropdownRender={menu => (\n                <div>\n                  {menu}\n                  <Divider style={{ margin: '4px 0' }} />\n                  <div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\n                    <Input style={{ width: '75%' }} value={newCategory} onChange={handleCategory} />\n                    <span style={{ marginTop: 5 }}>\n                      <PlusOutlined onClick={handleAddCategory} />추가\n                  </span>\n                  </div>\n                </div>\n              )}\n            >\n              {renderCategory()}\n            </Select>\n          </div>\n\n\n          <ReactQuill\n            value={value}\n            onChange={handleChange}\n          />\n\n          <Space style={{ textAlign: 'end', marginTop: '1rem' }}>\n            <Button\n              htmlType='submit'\n              type='primary'\n              onSubmit={onSubmit}\n              disabled={createBlogPostLoading}\n              loading={createBlogPostLoading || uploadBlogDatasetLoading}\n            >글쓰기</Button>\n            <Button onClick={handleCancel}>취소</Button>\n          </Space>\n        </Form>\n      </div>\n    )\n  } else {\n    return null;\n  }\n}\n\nexport default CreatePage;\n"]},"metadata":{},"sourceType":"module"}