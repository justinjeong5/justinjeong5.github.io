{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/justinjeong/Github/javascript/githubIo/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Router, { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { Form, Button, Checkbox, Space, Typography, message as Message } from 'antd';\nimport { LOGIN_USER_REQUEST } from '../../reducers/types';\nimport EmailForm from './LoginForm/EmailForm';\nimport PasswordForm from './LoginForm/PasswordForm';\nvar Title = Typography.Title;\n\nfunction LoginPage() {\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      loginUserLoading = _useSelector.loginUserLoading,\n      loginUserDone = _useSelector.loginUserDone,\n      loginUserError = _useSelector.loginUserError,\n      message = _useSelector.message;\n\n  useEffect(function () {\n    if (loginUserDone) {\n      Router.push('/');\n    }\n\n    if (loginUserError) {\n      Message.error({\n        content: message,\n        duration: 2\n      });\n    }\n  }, [loginUserDone, loginUserError, message]); // let initialValues = useMemo(() => ({\n  //   rememberMe: true,\n  //   email: localStorage.getItem('rememberMe'),\n  // }), [localStorage])\n\n  var onFinish = useCallback(function (values) {\n    // if (values.rememberMe) {\n    //   window.localStorage.setItem('rememberMe', values.email);\n    // }\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n      payload: {\n        email: values.email,\n        password: values.password\n      }\n    });\n  }, []);\n  var handleCancel = useCallback(function () {\n    router.back();\n  }, []);\n  var onFinishFailed = useCallback(function (_ref) {\n    var errorFields = _ref.errorFields;\n    form.scrollToField(errorFields[0].name);\n  }, [form]);\n  var rootDivWrapperStyle = useMemo(function () {\n    return {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      height: '100vh'\n    };\n  }, []);\n  var formLabelColStyle = useMemo(function () {\n    return {\n      span: 8\n    };\n  }, []);\n  var formWrapperColStyle = useMemo(function () {\n    return {\n      span: 16\n    };\n  }, []);\n  var formStyle = useMemo(function () {\n    return {\n      width: '400px'\n    };\n  }, []);\n  var titleStyle = useMemo(function () {\n    return {\n      display: 'flex',\n      justifyContent: 'center',\n      marginBottom: 40\n    };\n  }, []);\n  var formItemWrapperColStyle = useMemo(function () {\n    return {\n      offset: 8,\n      span: 16\n    };\n  }, []);\n  var formItemStyle = useMemo(function () {\n    return {\n      marginTop: -10\n    };\n  }, []);\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: rootDivWrapperStyle,\n    children: /*#__PURE__*/_jsxs(Form, {\n      name: \"basic\" // initialValues={initialValues}\n      ,\n      labelCol: formLabelColStyle,\n      wrapperCol: formWrapperColStyle,\n      style: formStyle,\n      onFinish: onFinish,\n      onFinishFailed: onFinishFailed,\n      children: [/*#__PURE__*/_jsx(Title, {\n        level: 2,\n        style: titleStyle,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }), /*#__PURE__*/_jsx(EmailForm, {}), /*#__PURE__*/_jsx(PasswordForm, {}), /*#__PURE__*/_jsx(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        name: \"rememberMe\",\n        valuePropName: \"checked\",\n        children: /*#__PURE__*/_jsx(Checkbox, {\n          children: \"\\uC544\\uC774\\uB514 \\uAE30\\uC5B5\\uD558\\uAE30\"\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        children: /*#__PURE__*/_jsxs(Space, {\n          children: [/*#__PURE__*/_jsx(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            loading: loginUserLoading,\n            disabled: loginUserLoading,\n            children: \"\\uB85C\\uADF8\\uC778\"\n          }), /*#__PURE__*/_jsx(Button, {\n            onClick: handleCancel,\n            children: \"\\uCDE8\\uC18C\"\n          })]\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        wrapperCol: formItemWrapperColStyle,\n        style: formItemStyle,\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"/register\",\n          children: /*#__PURE__*/_jsx(\"a\", {\n            children: \"\\uC544\\uC9C1 \\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2DC\\uB77C\\uBA74\"\n          })\n        })\n      })]\n    })\n  });\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/components/User/LoginPage.js"],"names":["React","useCallback","useEffect","useMemo","useDispatch","useSelector","Router","useRouter","Link","Form","Button","Checkbox","Space","Typography","message","Message","LOGIN_USER_REQUEST","EmailForm","PasswordForm","Title","LoginPage","useForm","form","dispatch","router","state","user","loginUserLoading","loginUserDone","loginUserError","push","error","content","duration","onFinish","values","type","payload","email","password","handleCancel","back","onFinishFailed","errorFields","scrollToField","name","rootDivWrapperStyle","display","justifyContent","alignItems","width","height","formLabelColStyle","span","formWrapperColStyle","formStyle","titleStyle","marginBottom","formItemWrapperColStyle","offset","formItemStyle","marginTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Router, { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport { Form, Button, Checkbox, Space, Typography, message as Message } from 'antd';\nimport { LOGIN_USER_REQUEST } from '../../reducers/types';\nimport EmailForm from './LoginForm/EmailForm';\nimport PasswordForm from './LoginForm/PasswordForm';\n\nconst { Title } = Typography;\n\nfunction LoginPage() {\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { loginUserLoading, loginUserDone, loginUserError, message } = useSelector(state => state.user)\n\n  useEffect(() => {\n    if (loginUserDone) {\n      Router.push('/')\n    }\n    if (loginUserError) {\n      Message.error({ content: message, duration: 2 });\n    }\n  }, [loginUserDone, loginUserError, message])\n\n  // let initialValues = useMemo(() => ({\n  //   rememberMe: true,\n  //   email: localStorage.getItem('rememberMe'),\n  // }), [localStorage])\n\n  const onFinish = useCallback((values) => {\n    // if (values.rememberMe) {\n    //   window.localStorage.setItem('rememberMe', values.email);\n    // }\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n      payload: {\n        email: values.email,\n        password: values.password,\n      }\n    })\n  }, []);\n\n  const handleCancel = useCallback(() => {\n    router.back()\n  }, [])\n\n  const onFinishFailed = useCallback(({ errorFields }) => {\n    form.scrollToField(errorFields[0].name);\n  }, [form]);\n  const rootDivWrapperStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', alignItems: 'center', width: '100%', height: '100vh' }), [])\n  const formLabelColStyle = useMemo(() => ({ span: 8 }), [])\n  const formWrapperColStyle = useMemo(() => ({ span: 16 }), [])\n  const formStyle = useMemo(() => ({ width: '400px' }), [])\n  const titleStyle = useMemo(() => ({ display: 'flex', justifyContent: 'center', marginBottom: 40 }), [])\n  const formItemWrapperColStyle = useMemo(() => ({ offset: 8, span: 16 }), [])\n  const formItemStyle = useMemo(() => ({ marginTop: -10 }), [])\n\n\n  return (\n    <div style={rootDivWrapperStyle}>\n      <Form\n        name=\"basic\"\n        // initialValues={initialValues}\n        labelCol={formLabelColStyle}\n        wrapperCol={formWrapperColStyle}\n        style={formStyle}\n        onFinish={onFinish}\n        onFinishFailed={onFinishFailed}\n      >\n        <Title level={2} style={titleStyle} >로그인</Title>\n        <EmailForm />\n        <PasswordForm />\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} name=\"rememberMe\" valuePropName=\"checked\">\n          <Checkbox>아이디 기억하기</Checkbox>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle}>\n          <Space>\n            <Button type=\"primary\" htmlType=\"submit\"\n              loading={loginUserLoading}\n              disabled={loginUserLoading}>\n              로그인\n              </Button>\n            <Button onClick={handleCancel}>\n              취소\n            </Button>\n          </Space>\n        </Form.Item>\n\n        <Form.Item wrapperCol={formItemWrapperColStyle} style={formItemStyle}>\n          <Link href='/register'><a>아직 회원이 아니시라면</a></Link>\n        </Form.Item>\n      </Form>\n    </div >\n  )\n}\n\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}