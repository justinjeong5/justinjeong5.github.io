{"ast":null,"code":"import { all, fork, put, call, takeLatest } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAILURE, LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE, LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAILURE, AUTHENTICATE_USER_REQUEST, AUTHENTICATE_USER_SUCCESS, AUTHENTICATE_USER_FAILURE, EDIT_USER_REQUEST, EDIT_USER_SUCCESS, EDIT_USER_FAILURE, CONFIRM_USER_REQUEST, CONFIRM_USER_SUCCESS, CONFIRM_USER_FAILURE, ADD_TO_CART_REQUEST, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAILURE, LOAD_CART_ITEMS_REQUEST, LOAD_CART_ITEMS_SUCCESS, LOAD_CART_ITEMS_FAILURE, REMOVE_CART_ITEM_REQUEST, REMOVE_CART_ITEM_SUCCESS, REMOVE_CART_ITEM_FAILURE, UPLOAD_USER_IMAGE_REQUEST, UPLOAD_USER_IMAGE_SUCCESS, UPLOAD_USER_IMAGE_FAILURE } from '../reducers/types';\n\nfunction registerAPI(data) {\n  return axios.post('/api/user/register', data);\n}\n\nfunction* register(action) {\n  try {\n    const result = yield call(registerAPI, action.payload);\n    yield put({\n      type: REGISTER_USER_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: REGISTER_USER_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loginAPI(data) {\n  return axios.post('/api/user/login', data);\n}\n\nfunction* login(action) {\n  try {\n    const result = yield call(loginAPI, action.payload);\n    yield put({\n      type: LOGIN_USER_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error, 'error error error error error error error error error error error error error error error error error error ');\n    yield put({\n      type: LOGIN_USER_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction logoutAPI() {\n  return axios.get('/api/user/logout');\n}\n\nfunction* logout() {\n  try {\n    const result = yield call(logoutAPI);\n    yield put({\n      type: LOGOUT_USER_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: LOGOUT_USER_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction authenticateAPI() {\n  return axios.get('/api/user/auth');\n}\n\nfunction* authenticate() {\n  try {\n    const result = yield call(authenticateAPI);\n    yield put({\n      type: AUTHENTICATE_USER_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: AUTHENTICATE_USER_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction confirmAPI(data) {\n  return axios.post('/api/user/confirm', data);\n}\n\nfunction* confirm(action) {\n  try {\n    const result = yield call(confirmAPI, action.payload);\n    yield put({\n      type: CONFIRM_USER_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: CONFIRM_USER_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction editAPI(data) {\n  return axios.post('/api/user/edit', data);\n}\n\nfunction* edit(action) {\n  try {\n    const result = yield call(editAPI, action.payload);\n    yield put({\n      type: EDIT_USER_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: EDIT_USER_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction addToCartAPI(data) {\n  return axios.post(`/api/user/addToCart`, data);\n}\n\nfunction* addToCart(action) {\n  try {\n    const result = yield call(addToCartAPI, action.payload);\n    yield put({\n      type: ADD_TO_CART_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: ADD_TO_CART_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction loadCartItemsAPI(data) {\n  return axios.get(`/api/jaymall/product_by_id?id=${data}&type=array`);\n}\n\nfunction* loadCartItems(action) {\n  try {\n    const result = yield call(loadCartItemsAPI, action.payload);\n    yield put({\n      type: LOAD_CART_ITEMS_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: LOAD_CART_ITEMS_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction removeCartItemAPI(data) {\n  return axios.post(`/api/user/removeFromCart`, data);\n}\n\nfunction* removeCartItem(action) {\n  try {\n    const result = yield call(removeCartItemAPI, action.payload);\n    yield put({\n      type: REMOVE_CART_ITEM_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: REMOVE_CART_ITEM_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction uploadUserImageAPI(data) {\n  return axios.post('/api/user/editImage', data.formData, data.config);\n}\n\nfunction* uploadUserImage(action) {\n  try {\n    const result = yield call(uploadUserImageAPI, action.payload);\n    yield put({\n      type: UPLOAD_USER_IMAGE_SUCCESS,\n      payload: result.data\n    });\n  } catch (error) {\n    console.error(error);\n    yield put({\n      type: UPLOAD_USER_IMAGE_FAILURE,\n      error: error.response.data\n    });\n  }\n}\n\nfunction* watchRegister() {\n  yield takeLatest(REGISTER_USER_REQUEST, register);\n}\n\nfunction* watchLogin() {\n  yield takeLatest(LOGIN_USER_REQUEST, login);\n}\n\nfunction* watchLogout() {\n  yield takeLatest(LOGOUT_USER_REQUEST, logout);\n}\n\nfunction* watchAuthenticate() {\n  yield takeLatest(AUTHENTICATE_USER_REQUEST, authenticate);\n}\n\nfunction* watchConfirm() {\n  yield takeLatest(CONFIRM_USER_REQUEST, confirm);\n}\n\nfunction* watchEdit() {\n  yield takeLatest(EDIT_USER_REQUEST, edit);\n}\n\nfunction* watchAddToCart() {\n  yield takeLatest(ADD_TO_CART_REQUEST, addToCart);\n}\n\nfunction* watchLoadCartItems() {\n  yield takeLatest(LOAD_CART_ITEMS_REQUEST, loadCartItems);\n}\n\nfunction* watchRemoveCartItem() {\n  yield takeLatest(REMOVE_CART_ITEM_REQUEST, removeCartItem);\n}\n\nfunction* watchUploadUserImage() {\n  yield takeLatest(UPLOAD_USER_IMAGE_REQUEST, uploadUserImage);\n}\n\nexport default function* userSaga() {\n  yield all([fork(watchRegister), fork(watchLogin), fork(watchLogout), fork(watchAuthenticate), fork(watchEdit), fork(watchConfirm), fork(watchAddToCart), fork(watchLoadCartItems), fork(watchRemoveCartItem), fork(watchUploadUserImage)]);\n}","map":{"version":3,"sources":["/Users/justinjeong/Github/javascript/githubIo/client/sagas/user.js"],"names":["all","fork","put","call","takeLatest","axios","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","LOGOUT_USER_REQUEST","LOGOUT_USER_SUCCESS","LOGOUT_USER_FAILURE","AUTHENTICATE_USER_REQUEST","AUTHENTICATE_USER_SUCCESS","AUTHENTICATE_USER_FAILURE","EDIT_USER_REQUEST","EDIT_USER_SUCCESS","EDIT_USER_FAILURE","CONFIRM_USER_REQUEST","CONFIRM_USER_SUCCESS","CONFIRM_USER_FAILURE","ADD_TO_CART_REQUEST","ADD_TO_CART_SUCCESS","ADD_TO_CART_FAILURE","LOAD_CART_ITEMS_REQUEST","LOAD_CART_ITEMS_SUCCESS","LOAD_CART_ITEMS_FAILURE","REMOVE_CART_ITEM_REQUEST","REMOVE_CART_ITEM_SUCCESS","REMOVE_CART_ITEM_FAILURE","UPLOAD_USER_IMAGE_REQUEST","UPLOAD_USER_IMAGE_SUCCESS","UPLOAD_USER_IMAGE_FAILURE","registerAPI","data","post","register","action","result","payload","type","error","console","response","loginAPI","login","logoutAPI","get","logout","authenticateAPI","authenticate","confirmAPI","confirm","editAPI","edit","addToCartAPI","addToCart","loadCartItemsAPI","loadCartItems","removeCartItemAPI","removeCartItem","uploadUserImageAPI","formData","config","uploadUserImage","watchRegister","watchLogin","watchLogout","watchAuthenticate","watchConfirm","watchEdit","watchAddToCart","watchLoadCartItems","watchRemoveCartItem","watchUploadUserImage","userSaga"],"mappings":"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","sourcesContent":["import { all, fork, put, call, takeLatest } from 'redux-saga/effects'\nimport axios from 'axios';\n\nimport {\n  REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAILURE,\n  LOGIN_USER_REQUEST, LOGIN_USER_SUCCESS, LOGIN_USER_FAILURE,\n  LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAILURE,\n  AUTHENTICATE_USER_REQUEST, AUTHENTICATE_USER_SUCCESS, AUTHENTICATE_USER_FAILURE,\n  EDIT_USER_REQUEST, EDIT_USER_SUCCESS, EDIT_USER_FAILURE,\n  CONFIRM_USER_REQUEST, CONFIRM_USER_SUCCESS, CONFIRM_USER_FAILURE,\n  ADD_TO_CART_REQUEST, ADD_TO_CART_SUCCESS, ADD_TO_CART_FAILURE,\n  LOAD_CART_ITEMS_REQUEST, LOAD_CART_ITEMS_SUCCESS, LOAD_CART_ITEMS_FAILURE,\n  REMOVE_CART_ITEM_REQUEST, REMOVE_CART_ITEM_SUCCESS, REMOVE_CART_ITEM_FAILURE,\n  UPLOAD_USER_IMAGE_REQUEST, UPLOAD_USER_IMAGE_SUCCESS, UPLOAD_USER_IMAGE_FAILURE,\n} from '../reducers/types'\n\nfunction registerAPI(data) {\n  return axios.post('/api/user/register', data)\n}\n\nfunction* register(action) {\n  try {\n    const result = yield call(registerAPI, action.payload);\n    yield put({\n      type: REGISTER_USER_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: REGISTER_USER_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction loginAPI(data) {\n  return axios.post('/api/user/login', data)\n}\n\nfunction* login(action) {\n  try {\n    const result = yield call(loginAPI, action.payload);\n    yield put({\n      type: LOGIN_USER_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error, 'error error error error error error error error error error error error error error error error error error ')\n\n    yield put({\n      type: LOGIN_USER_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction logoutAPI() {\n  return axios.get('/api/user/logout')\n}\n\nfunction* logout() {\n  try {\n    const result = yield call(logoutAPI);\n    yield put({\n      type: LOGOUT_USER_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: LOGOUT_USER_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction authenticateAPI() {\n  return axios.get('/api/user/auth')\n}\n\nfunction* authenticate() {\n  try {\n    const result = yield call(authenticateAPI);\n    yield put({\n      type: AUTHENTICATE_USER_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: AUTHENTICATE_USER_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction confirmAPI(data) {\n  return axios.post('/api/user/confirm', data)\n}\n\nfunction* confirm(action) {\n  try {\n    const result = yield call(confirmAPI, action.payload);\n    yield put({\n      type: CONFIRM_USER_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: CONFIRM_USER_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction editAPI(data) {\n  return axios.post('/api/user/edit', data)\n}\n\nfunction* edit(action) {\n  try {\n    const result = yield call(editAPI, action.payload);\n    yield put({\n      type: EDIT_USER_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: EDIT_USER_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction addToCartAPI(data) {\n  return axios.post(`/api/user/addToCart`, data)\n}\n\nfunction* addToCart(action) {\n  try {\n    const result = yield call(addToCartAPI, action.payload);\n    yield put({\n      type: ADD_TO_CART_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: ADD_TO_CART_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction loadCartItemsAPI(data) {\n  return axios.get(`/api/jaymall/product_by_id?id=${data}&type=array`)\n}\n\nfunction* loadCartItems(action) {\n  try {\n    const result = yield call(loadCartItemsAPI, action.payload);\n    yield put({\n      type: LOAD_CART_ITEMS_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: LOAD_CART_ITEMS_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction removeCartItemAPI(data) {\n  return axios.post(`/api/user/removeFromCart`, data)\n}\n\nfunction* removeCartItem(action) {\n  try {\n    const result = yield call(removeCartItemAPI, action.payload);\n    yield put({\n      type: REMOVE_CART_ITEM_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: REMOVE_CART_ITEM_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction uploadUserImageAPI(data) {\n  return axios.post('/api/user/editImage', data.formData, data.config)\n}\n\nfunction* uploadUserImage(action) {\n  try {\n    const result = yield call(uploadUserImageAPI, action.payload);\n    yield put({\n      type: UPLOAD_USER_IMAGE_SUCCESS,\n      payload: result.data,\n    })\n  } catch (error) {\n    console.error(error)\n    yield put({\n      type: UPLOAD_USER_IMAGE_FAILURE,\n      error: error.response.data,\n    })\n  }\n}\n\nfunction* watchRegister() {\n  yield takeLatest(REGISTER_USER_REQUEST, register)\n}\n\nfunction* watchLogin() {\n  yield takeLatest(LOGIN_USER_REQUEST, login)\n}\n\nfunction* watchLogout() {\n  yield takeLatest(LOGOUT_USER_REQUEST, logout)\n}\n\nfunction* watchAuthenticate() {\n  yield takeLatest(AUTHENTICATE_USER_REQUEST, authenticate)\n}\n\nfunction* watchConfirm() {\n  yield takeLatest(CONFIRM_USER_REQUEST, confirm)\n}\n\nfunction* watchEdit() {\n  yield takeLatest(EDIT_USER_REQUEST, edit)\n}\n\nfunction* watchAddToCart() {\n  yield takeLatest(ADD_TO_CART_REQUEST, addToCart)\n}\n\nfunction* watchLoadCartItems() {\n  yield takeLatest(LOAD_CART_ITEMS_REQUEST, loadCartItems)\n}\n\nfunction* watchRemoveCartItem() {\n  yield takeLatest(REMOVE_CART_ITEM_REQUEST, removeCartItem)\n}\n\nfunction* watchUploadUserImage() {\n  yield takeLatest(UPLOAD_USER_IMAGE_REQUEST, uploadUserImage)\n}\n\n\nexport default function* userSaga() {\n  yield all([\n    fork(watchRegister),\n    fork(watchLogin),\n    fork(watchLogout),\n    fork(watchAuthenticate),\n    fork(watchEdit),\n    fork(watchConfirm),\n    fork(watchAddToCart),\n    fork(watchLoadCartItems),\n    fork(watchRemoveCartItem),\n    fork(watchUploadUserImage),\n  ])\n}"]},"metadata":{},"sourceType":"module"}